  
  [1X12 [33X[0;0YExamples and Tests[133X[101X
  
  
  [1X12.1 [33X[0;0YMonoidal structure of AdditiveClosure[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XLoadPackage( "FreydCategoriesForCAP", false );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XQ := HomalgFieldOfRationals();;[127X[104X
    [4X[25Xgap>[125X [27XR := RingAsCategory( Q );[127X[104X
    [4X[28XRingAsCategory( Q )[128X[104X
    [4X[25Xgap>[125X [27XA := AdditiveClosure( R );[127X[104X
    [4X[28XAdditiveClosure( RingAsCategory( Q ) )[128X[104X
    [4X[25Xgap>[125X [27Xu := TensorUnit( A );[127X[104X
    [4X[28X<An object in AdditiveClosure( RingAsCategory( Q ) )\[128X[104X
    [4X[28X defined by 1 underlying objects>[128X[104X
    [4X[25Xgap>[125X [27Xmor1 := [ [ 1 / R, 2 / R ] ] / A;[127X[104X
    [4X[28X<A morphism in AdditiveClosure( RingAsCategory( Q ) )\[128X[104X
    [4X[28X defined by a 1 x 2 matrix of underlying morphisms>[128X[104X
    [4X[25Xgap>[125X [27Xmor2 := [ [ 3 / R, 4 / R ] ] / A;[127X[104X
    [4X[28X<A morphism in AdditiveClosure( RingAsCategory( Q ) )\[128X[104X
    [4X[28X defined by a 1 x 2 matrix of underlying morphisms>[128X[104X
    [4X[25Xgap>[125X [27XT := TensorProduct( mor1, mor2 );[127X[104X
    [4X[28X<A morphism in AdditiveClosure( RingAsCategory( Q ) )\[128X[104X
    [4X[28X defined by a 1 x 4 matrix of underlying morphisms>[128X[104X
    [4X[25Xgap>[125X [27XDisplay( T );[127X[104X
    [4X[28XA 1 x 4 matrix with entries in RingAsCategory( Q )[128X[104X
    [4X[28X[128X[104X
    [4X[28X[1,1]: <3>[128X[104X
    [4X[28X[1,2]: <4>[128X[104X
    [4X[28X[1,3]: <6>[128X[104X
    [4X[28X[1,4]: <8>[128X[104X
    [4X[25Xgap>[125X [27XDisplay( Range( T ) );[127X[104X
    [4X[28XA formal direct sum consisting of 4 objects.[128X[104X
    [4X[28X*[128X[104X
    [4X[28X*[128X[104X
    [4X[28X*[128X[104X
    [4X[28X*[128X[104X
  [4X[32X[104X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XLoadPackage( "FreydCategoriesForCAP", false );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XT := TerminalCategoryWithMultipleObjects( );[127X[104X
    [4X[28XTerminalCategoryWithMultipleObjects( )[128X[104X
    [4X[25Xgap>[125X [27XA := "A" / T;[127X[104X
    [4X[28X<A zero object in TerminalCategoryWithMultipleObjects( )>[128X[104X
    [4X[25Xgap>[125X [27XB := "B" / T;[127X[104X
    [4X[28X<A zero object in TerminalCategoryWithMultipleObjects( )>[128X[104X
    [4X[25Xgap>[125X [27XAT := AdditiveClosure( T );[127X[104X
    [4X[28XAdditiveClosure( TerminalCategoryWithMultipleObjects( ) )[128X[104X
    [4X[25Xgap>[125X [27XABAA := [ A, B, A, A ] / AT;[127X[104X
    [4X[28X<An object in AdditiveClosure( TerminalCategoryWithMultipleObjects( ) )\[128X[104X
    [4X[28X defined by 4 underlying objects>[128X[104X
    [4X[25Xgap>[125X [27XBAB := [ B, A, B ] / AT;[127X[104X
    [4X[28X<An object in AdditiveClosure( TerminalCategoryWithMultipleObjects( ) )\[128X[104X
    [4X[28X defined by 3 underlying objects>[128X[104X
    [4X[25Xgap>[125X [27XAB := [ A, B ] / AT;[127X[104X
    [4X[28X<An object in AdditiveClosure( TerminalCategoryWithMultipleObjects( ) )\[128X[104X
    [4X[28X defined by 2 underlying objects>[128X[104X
    [4X[25Xgap>[125X [27Xmor_AB := MorphismConstructor( A, "A -> B", B );[127X[104X
    [4X[28X<A zero, isomorphism in TerminalCategoryWithMultipleObjects( )>[128X[104X
    [4X[25Xgap>[125X [27Xmor_BA := MorphismConstructor( B, "B -> A", A );[127X[104X
    [4X[28X<A zero, isomorphism in TerminalCategoryWithMultipleObjects( )>[128X[104X
    [4X[25Xgap>[125X [27Xid_A := IdentityMorphism( A );[127X[104X
    [4X[28X<A zero, identity morphism in TerminalCategoryWithMultipleObjects( )>[128X[104X
    [4X[25Xgap>[125X [27Xid_B := IdentityMorphism( B );[127X[104X
    [4X[28X<A zero, identity morphism in TerminalCategoryWithMultipleObjects( )>[128X[104X
    [4X[25Xgap>[125X [27Xalpha := MorphismConstructor( ABAA,[127X[104X
    [4X[25X>[125X [27X  [ [ mor_AB, id_A, mor_AB ],[127X[104X
    [4X[25X>[125X [27X    [ id_B, mor_BA, id_B ],[127X[104X
    [4X[25X>[125X [27X    [ mor_AB, id_A, mor_AB ],[127X[104X
    [4X[25X>[125X [27X    [ mor_AB, id_A, mor_AB ] ],[127X[104X
    [4X[25X>[125X [27X    BAB );[127X[104X
    [4X[28X<A morphism in AdditiveClosure( TerminalCategoryWithMultipleObjects( ) )\[128X[104X
    [4X[28X defined by a 4 x 3 matrix of underlying morphisms>[128X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( alpha );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xalpha2 := TensorProduct( alpha, alpha );[127X[104X
    [4X[28X<A morphism in AdditiveClosure( TerminalCategoryWithMultipleObjects( ) )\[128X[104X
    [4X[28X defined by a 16 x 9 matrix of underlying morphisms>[128X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( alpha2 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsIsomorphism( alpha2 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xleft := LeftUnitor( ABAA );[127X[104X
    [4X[28X<A morphism in AdditiveClosure( TerminalCategoryWithMultipleObjects( ) )\[128X[104X
    [4X[28X defined by a 4 x 4 matrix of underlying morphisms>[128X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( left );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xleft_inv := LeftUnitorInverse( ABAA );[127X[104X
    [4X[28X<A morphism in AdditiveClosure( TerminalCategoryWithMultipleObjects( ) )\[128X[104X
    [4X[28X defined by a 4 x 4 matrix of underlying morphisms>[128X[104X
    [4X[25Xgap>[125X [27XPreCompose( left, left_inv ) = IdentityMorphism( Source( left ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XPreCompose( left_inv, left ) = IdentityMorphism( Range( left ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xright := RightUnitor( BAB );[127X[104X
    [4X[28X<A morphism in AdditiveClosure( TerminalCategoryWithMultipleObjects( ) )\[128X[104X
    [4X[28X defined by a 3 x 3 matrix of underlying morphisms>[128X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( right );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xright_inv := RightUnitorInverse( BAB );[127X[104X
    [4X[28X<A morphism in AdditiveClosure( TerminalCategoryWithMultipleObjects( ) )\[128X[104X
    [4X[28X defined by a 3 x 3 matrix of underlying morphisms>[128X[104X
    [4X[25Xgap>[125X [27XPreCompose( right, right_inv ) = IdentityMorphism( Source( right ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XPreCompose( right_inv, right ) = IdentityMorphism( Range( right ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xaslr := AssociatorLeftToRight( AB, BAB, AB );[127X[104X
    [4X[28X<A morphism in AdditiveClosure( TerminalCategoryWithMultipleObjects( ) )\[128X[104X
    [4X[28X defined by a 12 x 12 matrix of underlying morphisms>[128X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( aslr );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xasrl := AssociatorRightToLeft( AB, BAB, AB );[127X[104X
    [4X[28X<A morphism in AdditiveClosure( TerminalCategoryWithMultipleObjects( ) )\[128X[104X
    [4X[28X defined by a 12 x 12 matrix of underlying morphisms>[128X[104X
    [4X[25Xgap>[125X [27XPreCompose( aslr, asrl ) = IdentityMorphism( Source( aslr ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XPreCompose( asrl, aslr ) = IdentityMorphism( Range( aslr ) );[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  
  [1X12.2 [33X[0;0YAdelman category basics for category of rows[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XR := HomalgRingOfIntegers();;[127X[104X
    [4X[25Xgap>[125X [27Xrows := CategoryOfRows( R );;[127X[104X
    [4X[25Xgap>[125X [27Xadelman := AdelmanCategory( rows );;[127X[104X
    [4X[25Xgap>[125X [27Xobj1 := CategoryOfRowsObject( 1, rows );;[127X[104X
    [4X[25Xgap>[125X [27Xobj2 := CategoryOfRowsObject( 2, rows );;[127X[104X
    [4X[25Xgap>[125X [27Xid := IdentityMorphism( obj2 );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := CategoryOfRowsMorphism( obj1, HomalgMatrix( [ [ 1, 2 ] ], 1, 2, R ), obj2 );;[127X[104X
    [4X[25Xgap>[125X [27Xbeta := CategoryOfRowsMorphism( obj2, HomalgMatrix( [ [ 1, 2 ], [ 3, 4 ] ], 2, 2, R ), obj2 );;[127X[104X
    [4X[25Xgap>[125X [27Xgamma := CategoryOfRowsMorphism( obj2, HomalgMatrix( [ [ 1, 3 ], [ 3, 4 ] ], 2, 2, R ), obj2 );;[127X[104X
    [4X[25Xgap>[125X [27Xobj1_a := AsAdelmanCategoryObject( obj1 );;[127X[104X
    [4X[25Xgap>[125X [27Xobj2_a := AsAdelmanCategoryObject( obj2 );;[127X[104X
    [4X[25Xgap>[125X [27Xm := AsAdelmanCategoryMorphism( beta );;[127X[104X
    [4X[25Xgap>[125X [27Xn := AsAdelmanCategoryMorphism( gamma );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( m );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27X# backwards compatibility[127X[104X
    [4X[25X>[125X [27XIsIdenticalObj( MorphismDatum( m ), beta );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( PreCompose( m, n ), PreCompose( n, m ) );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( SubtractionForMorphisms( m, m ), ZeroMorphism( obj2_a, obj2_a ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( ZeroObjectFunctorial( adelman ),[127X[104X
    [4X[25X>[125X [27X                         PreCompose( UniversalMorphismFromZeroObject( obj1_a), UniversalMorphismIntoZeroObject( obj1_a ) ) [127X[104X
    [4X[25X>[125X [27X                        );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xd := [ obj1_a, obj2_a ];;[127X[104X
    [4X[25Xgap>[125X [27Xpi1 := ProjectionInFactorOfDirectSum( d, 1 );;[127X[104X
    [4X[25Xgap>[125X [27Xpi2 := ProjectionInFactorOfDirectSum( d, 2 );;[127X[104X
    [4X[25Xgap>[125X [27Xid := IdentityMorphism( DirectSum( d ) );;[127X[104X
    [4X[25Xgap>[125X [27Xiota1 := InjectionOfCofactorOfDirectSum( d, 1 );;[127X[104X
    [4X[25Xgap>[125X [27Xiota2 := InjectionOfCofactorOfDirectSum( d, 2 );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( PreCompose( pi1, iota1 ) + PreCompose( pi2, iota2 ), id );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( UniversalMorphismIntoDirectSum( d, [ pi1, pi2 ] ), id );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( UniversalMorphismFromDirectSum( d, [ iota1, iota2 ] ), id );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xc := CokernelProjection( m );;[127X[104X
    [4X[25Xgap>[125X [27Xc2 := CokernelProjection( c );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( c2, ZeroMorphism( Source( c2 ), Range( c2 ) ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( CokernelProjection( m ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( CokernelColift( m, CokernelProjection( m ) ), IdentityMorphism( CokernelObject( m ) ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xk := KernelEmbedding( c );;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( PreCompose( k, c ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( KernelLift( m, KernelEmbedding( m ) ), IdentityMorphism( KernelObject( m ) ) );[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  
  [1X12.3 [33X[0;0YAdelman category basics for category of columns[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XR := HomalgRingOfIntegers();;[127X[104X
    [4X[25Xgap>[125X [27Xcols := CategoryOfColumns( R );;[127X[104X
    [4X[25Xgap>[125X [27Xadelman := AdelmanCategory( cols );;[127X[104X
    [4X[25Xgap>[125X [27Xobj1 := CategoryOfColumnsObject( 1, cols );;[127X[104X
    [4X[25Xgap>[125X [27Xobj2 := CategoryOfColumnsObject( 2, cols );;[127X[104X
    [4X[25Xgap>[125X [27Xid := IdentityMorphism( obj2 );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := CategoryOfColumnsMorphism( obj1, HomalgMatrix( [ [ 1 ], [ 2 ] ], 2, 1, R ), obj2 );;[127X[104X
    [4X[25Xgap>[125X [27Xbeta := CategoryOfColumnsMorphism( obj2, HomalgMatrix( [ [ 1, 3 ], [ 2, 4 ] ], 2, 2, R ), obj2 );;[127X[104X
    [4X[25Xgap>[125X [27Xgamma := CategoryOfColumnsMorphism( obj2, HomalgMatrix( [ [ 1, 3 ], [ 3, 4 ] ], 2, 2, R ), obj2 );;[127X[104X
    [4X[25Xgap>[125X [27Xobj1_a := AsAdelmanCategoryObject( obj1 );;[127X[104X
    [4X[25Xgap>[125X [27Xobj2_a := AsAdelmanCategoryObject( obj2 );;[127X[104X
    [4X[25Xgap>[125X [27Xm := AsAdelmanCategoryMorphism( beta );;[127X[104X
    [4X[25Xgap>[125X [27Xn := AsAdelmanCategoryMorphism( gamma );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( m );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( PreCompose( m, n ), PreCompose( n, m ) );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( SubtractionForMorphisms( m, m ), ZeroMorphism( obj2_a, obj2_a ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( ZeroObjectFunctorial( adelman ),[127X[104X
    [4X[25X>[125X [27X                         PreCompose( UniversalMorphismFromZeroObject( obj1_a), UniversalMorphismIntoZeroObject( obj1_a ) ) [127X[104X
    [4X[25X>[125X [27X                        );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xd := [ obj1_a, obj2_a ];;[127X[104X
    [4X[25Xgap>[125X [27Xpi1 := ProjectionInFactorOfDirectSum( d, 1 );;[127X[104X
    [4X[25Xgap>[125X [27Xpi2 := ProjectionInFactorOfDirectSum( d, 2 );;[127X[104X
    [4X[25Xgap>[125X [27Xid := IdentityMorphism( DirectSum( d ) );;[127X[104X
    [4X[25Xgap>[125X [27Xiota1 := InjectionOfCofactorOfDirectSum( d, 1 );;[127X[104X
    [4X[25Xgap>[125X [27Xiota2 := InjectionOfCofactorOfDirectSum( d, 2 );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( PreCompose( pi1, iota1 ) + PreCompose( pi2, iota2 ), id );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( UniversalMorphismIntoDirectSum( d, [ pi1, pi2 ] ), id );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( UniversalMorphismFromDirectSum( d, [ iota1, iota2 ] ), id );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xc := CokernelProjection( m );;[127X[104X
    [4X[25Xgap>[125X [27Xc2 := CokernelProjection( c );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( c2, ZeroMorphism( Source( c2 ), Range( c2 ) ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( CokernelProjection( m ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( CokernelColift( m, CokernelProjection( m ) ), IdentityMorphism( CokernelObject( m ) ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xk := KernelEmbedding( c );;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( PreCompose( k, c ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( KernelLift( m, KernelEmbedding( m ) ), IdentityMorphism( KernelObject( m ) ) );[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  
  [1X12.4 [33X[0;0YBasics based on category of rows[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XLoadPackage( "FreydCategoriesForCAP", false );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XLoadPackage( "RingsForHomalg", false );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XR := HomalgRingOfIntegers();;[127X[104X
    [4X[25Xgap>[125X [27Xcat := CategoryOfRows( R );;[127X[104X
    [4X[25Xgap>[125X [27Xobj1 := CategoryOfRowsObject( 1, cat );;[127X[104X
    [4X[25Xgap>[125X [27Xobj2 := CategoryOfRowsObject( 2, cat );;[127X[104X
    [4X[25Xgap>[125X [27XIsIsomorphicForObjects( obj1, obj2 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsIsomorphicForObjects( obj2, obj2 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsIsomorphism( SomeIsomorphismBetweenObjects( obj2, obj2 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xid := IdentityMorphism( obj2 );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := CategoryOfRowsMorphism( obj1, HomalgMatrix( [ [ 1, 2 ] ], 1, 2, R ), obj2 );;[127X[104X
    [4X[25Xgap>[125X [27Xbeta := CategoryOfRowsMorphism( obj2, HomalgMatrix( [ [ 1, 2 ], [ 3, 4 ] ], 2, 2, R ), obj2 );;[127X[104X
    [4X[25Xgap>[125X [27Xcomp := PreCompose( alpha, beta );;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( comp );;[127X[104X
    [4X[25Xgap>[125X [27Xzero := ZeroMorphism( obj1, obj2 );;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( zero );;[127X[104X
    [4X[25Xgap>[125X [27XZeroObject( cat );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismIntoZeroObject( obj2 );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismFromZeroObject( obj1 );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms([127X[104X
    [4X[25X>[125X [27X    SumOfMorphisms( obj1, [ alpha, alpha, alpha ], obj2 ),[127X[104X
    [4X[25X>[125X [27X    AdditionForMorphisms( alpha, AdditionForMorphisms( alpha, alpha ) )[127X[104X
    [4X[25X>[125X [27X);[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms([127X[104X
    [4X[25X>[125X [27X    SumOfMorphisms( obj1, [ ], obj2 ),[127X[104X
    [4X[25X>[125X [27X    ZeroMorphism( obj1, obj2 )[127X[104X
    [4X[25X>[125X [27X);[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XDirectSum( obj1, obj2 );;[127X[104X
    [4X[25Xgap>[125X [27XDirectSumFunctorial( [ alpha, beta, id ] );;[127X[104X
    [4X[25Xgap>[125X [27Xproj := ProjectionInFactorOfDirectSum( [ obj2, obj1, obj2 ], 2 );;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( ComponentOfMorphismFromDirectSum( proj, [ obj2, obj1, obj2 ], 1 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsOne( ComponentOfMorphismFromDirectSum( proj, [ obj2, obj1, obj2 ], 2 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( ComponentOfMorphismFromDirectSum( proj, [ obj2, obj1, obj2 ], 3 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( ComponentOfMorphismFromCoproduct( proj, [ obj2, obj1, obj2 ], 1 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsOne( ComponentOfMorphismFromCoproduct( proj, [ obj2, obj1, obj2 ], 2 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( ComponentOfMorphismFromCoproduct( proj, [ obj2, obj1, obj2 ], 3 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismIntoDirectSum( [ alpha, alpha, alpha ] );;[127X[104X
    [4X[25Xgap>[125X [27Xinj := InjectionOfCofactorOfDirectSum( [ obj2, obj2, obj1 ], 2 );;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( ComponentOfMorphismIntoDirectSum( inj, [ obj2, obj2, obj1 ], 1 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsOne( ComponentOfMorphismIntoDirectSum( inj, [ obj2, obj2, obj1 ], 2 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( ComponentOfMorphismIntoDirectSum( inj, [ obj2, obj2, obj1 ], 3 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( ComponentOfMorphismIntoDirectProduct( inj, [ obj2, obj2, obj1 ], 1 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsOne( ComponentOfMorphismIntoDirectProduct( inj, [ obj2, obj2, obj1 ], 2 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( ComponentOfMorphismIntoDirectProduct( inj, [ obj2, obj2, obj1 ], 3 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xgamma := CategoryOfRowsMorphism( obj2, HomalgMatrix( [ [ 1, 1 ], [ 1, 1 ] ], 2, 2, R ), obj2 );;[127X[104X
    [4X[25Xgap>[125X [27XIsColiftable( beta, gamma );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsColiftable( gamma, beta );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XProjectionInFirstFactorOfWeakBiFiberProduct( gamma, gamma );;[127X[104X
    [4X[25Xgap>[125X [27XProjectionInFirstFactorOfWeakBiFiberProduct( gamma, ZeroMorphism( Range( gamma ), Range( gamma ) ) );;[127X[104X
    [4X[25Xgap>[125X [27Xlift_arg_1 := PreCompose( ProjectionInFirstFactorOfWeakBiFiberProduct( gamma, gamma + gamma ), gamma );;[127X[104X
    [4X[25Xgap>[125X [27Xlift_arg_2 := gamma + gamma;;[127X[104X
    [4X[25Xgap>[125X [27XIsLiftable( lift_arg_1, lift_arg_2 );;[127X[104X
    [4X[25Xgap>[125X [27XLift( lift_arg_1, lift_arg_2 );;[127X[104X
    [4X[25Xgap>[125X [27Xpi1 := ProjectionInFirstFactorOfWeakBiFiberProduct( alpha, beta );;[127X[104X
    [4X[25Xgap>[125X [27Xpi2 := ProjectionInSecondFactorOfWeakBiFiberProduct( alpha, beta );;[127X[104X
    [4X[25Xgap>[125X [27XIsEqualForMorphisms( PreCompose( pi1, alpha ), PreCompose( pi2, beta ) );;[127X[104X
    [4X[25Xgap>[125X [27Xinj1 := InjectionOfFirstCofactorOfWeakBiPushout( gamma + gamma, gamma );;[127X[104X
    [4X[25Xgap>[125X [27Xinj2 := InjectionOfSecondCofactorOfWeakBiPushout( gamma + gamma, gamma );;[127X[104X
    [4X[25Xgap>[125X [27XIsEqualForMorphisms( PreCompose( gamma + gamma, inj1 ), PreCompose( gamma, inj2 ) );;[127X[104X
    [4X[25Xgap>[125X [27XWeakKernelLift( WeakCokernelProjection( gamma ), gamma );;[127X[104X
    [4X[25Xgap>[125X [27Xpi1 := InjectionOfFirstCofactorOfWeakBiPushout( alpha, alpha );;[127X[104X
    [4X[25Xgap>[125X [27Xpi2 := InjectionOfSecondCofactorOfWeakBiPushout( alpha, alpha );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismFromWeakBiPushout( alpha, alpha, pi1, pi2 );;[127X[104X
    [4X[25Xgap>[125X [27X## Freyd categories[127X[104X
    [4X[25X>[125X [27Xfreyd := FreydCategory( cat );;[127X[104X
    [4X[25Xgap>[125X [27XIsAbelianCategory( freyd );;[127X[104X
    [4X[25Xgap>[125X [27Xobj_gamma := FreydCategoryObject( gamma );;[127X[104X
    [4X[25Xgap>[125X [27Xu := RandomMorphismWithFixedSource( obj_gamma, [ [5], [5] ] );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( u ) and IsEqualForObjects( Source(u), obj_gamma );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xu := RandomMorphismWithFixedSource( obj_gamma, 5 );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( u ) and IsEqualForObjects( Source(u), obj_gamma );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xu := RandomMorphismWithFixedRange( obj_gamma, [ [5], [5] ] );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( u ) and IsEqualForObjects( Range(u), obj_gamma );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xu := RandomMorphismWithFixedRange( obj_gamma, 5 );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( u ) and IsEqualForObjects( Range(u), obj_gamma );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xobj_delta := RandomObject( freyd, [[10],[10],[10]] );;[127X[104X
    [4X[25Xgap>[125X [27Xobj_delta := RandomObject( freyd, 10 );;[127X[104X
    [4X[25Xgap>[125X [27Xu := RandomMorphismWithFixedSourceAndRange( obj_gamma, obj_delta, [ 5 ] );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( u );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsEqualForObjects( Source(u), obj_gamma ) and IsEqualForObjects( Range(u), obj_delta );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xu := RandomMorphismWithFixedSourceAndRange( obj_gamma, obj_delta, 5 );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( u );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsEqualForObjects( Source(u), obj_gamma ) and IsEqualForObjects( Range(u), obj_delta );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( RandomMorphism( freyd, 5 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( RandomMorphism( freyd, [[[5],[5],[5]],[[5],[5],[5]],[1]] ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xf := FreydCategoryMorphism( obj_gamma, gamma, obj_gamma );;[127X[104X
    [4X[25Xgap>[125X [27Xwitness := MorphismWitness( f );;[127X[104X
    [4X[25Xgap>[125X [27Xg := FreydCategoryMorphism( obj_gamma, ZeroMorphism( obj2, obj2 ), obj_gamma );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( f, g );;[127X[104X
    [4X[25Xgap>[125X [27Xc := PreCompose( f, f );;[127X[104X
    [4X[25Xgap>[125X [27Xs := g + g;;[127X[104X
    [4X[25Xgap>[125X [27Xa := CategoryOfRowsMorphism( obj1, HomalgMatrix( [ [ 2 ] ], 1, 1, R ), obj1 );;[127X[104X
    [4X[25Xgap>[125X [27XZ2 := FreydCategoryObject( a );;[127X[104X
    [4X[25Xgap>[125X [27Xid := IdentityMorphism( Z2 );;[127X[104X
    [4X[25Xgap>[125X [27Xz := id + id + id;;[127X[104X
    [4X[25Xgap>[125X [27Xd := DirectSumFunctorial( [ z, z, z ] );;[127X[104X
    [4X[25Xgap>[125X [27Xpr2 := ProjectionInFactorOfDirectSum( [ Z2, Z2, Z2 ], 2 );;[127X[104X
    [4X[25Xgap>[125X [27Xpr3 := ProjectionInFactorOfDirectSum( [ Z2, Z2, Z2 ], 3 );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismIntoDirectSum( [ pr3, pr2 ] );;[127X[104X
    [4X[25Xgap>[125X [27Xinj1 := InjectionOfCofactorOfDirectSum( [ Z2, Z2, Z2 ], 1 );;[127X[104X
    [4X[25Xgap>[125X [27Xinj2 := InjectionOfCofactorOfDirectSum( [ Z2, Z2, Z2 ], 2 );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismFromDirectSum( [ inj2, inj1 ] );;[127X[104X
    [4X[25Xgap>[125X [27XZFree := obj1/freyd;;[127X[104X
    [4X[25Xgap>[125X [27Xid := IdentityMorphism( ZFree );;[127X[104X
    [4X[25Xgap>[125X [27Xz := id + id;;[127X[104X
    [4X[25Xgap>[125X [27XCokernelProjection( z );;[127X[104X
    [4X[25Xgap>[125X [27XCokernelColift( z, CokernelProjection( z ) );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismFromZeroObjectWithGivenZeroObject( obj_gamma, ZeroObject( freyd ) );;[127X[104X
    [4X[25Xgap>[125X [27XMultiplyWithElementOfCommutativeRingForMorphisms( 2 / R, f );;[127X[104X
    [4X[25Xgap>[125X [27XS := HomalgFieldOfRationalsInSingular() * "x,y,z";;[127X[104X
    [4X[25Xgap>[125X [27XRows_S := CategoryOfRows( S );;[127X[104X
    [4X[25Xgap>[125X [27XS3 := CategoryOfRowsObject( 3, Rows_S );;[127X[104X
    [4X[25Xgap>[125X [27XS1 := CategoryOfRowsObject( 1, Rows_S );;[127X[104X
    [4X[25Xgap>[125X [27Xmor := CategoryOfRowsMorphism( S3, HomalgMatrix( "[x,y,z]", 3, 1, S ), S1 );;[127X[104X
    [4X[25Xgap>[125X [27Xbiased_w := CategoryOfRowsMorphism( S3, HomalgMatrix( "[x,0,0,0,x,0,0,0,x]", 3, 3, S ), S3 );;[127X[104X
    [4X[25Xgap>[125X [27Xbiased_h := CategoryOfRowsMorphism( S3, HomalgMatrix( "[x*y, x*z, y^2]", 3, 3, S ), S3 );;[127X[104X
    [4X[25Xgap>[125X [27XBiasedWeakFiberProduct( biased_h, biased_w );;[127X[104X
    [4X[25Xgap>[125X [27XProjectionOfBiasedWeakFiberProduct( biased_h, biased_w );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms([127X[104X
    [4X[25X>[125X [27X   PreCompose( UniversalMorphismIntoBiasedWeakFiberProduct( biased_h, biased_w, biased_h ), ProjectionOfBiasedWeakFiberProduct( biased_h, biased_w ) ),[127X[104X
    [4X[25X>[125X [27X   biased_h[127X[104X
    [4X[25X>[125X [27X);[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms([127X[104X
    [4X[25X>[125X [27X  PreCompose( InjectionOfBiasedWeakPushout( biased_h, biased_w ), UniversalMorphismFromBiasedWeakPushout( biased_h, biased_w, biased_h )),[127X[104X
    [4X[25X>[125X [27X  biased_h[127X[104X
    [4X[25X>[125X [27X);[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xk := FreydCategoryObject( mor );;[127X[104X
    [4X[25Xgap>[125X [27Xw := EpimorphismFromSomeProjectiveObjectForKernelObject( UniversalMorphismIntoZeroObject( k ) );;[127X[104X
    [4X[25Xgap>[125X [27Xk := KernelEmbedding( w );;[127X[104X
    [4X[25Xgap>[125X [27XColiftAlongEpimorphism( CokernelProjection( k ), CokernelProjection( k ) );;[127X[104X
    [4X[25Xgap>[125X [27X## Homomorphism structures[127X[104X
    [4X[25X>[125X [27Xa := InterpretMorphismAsMorphismFromDistinguishedObjectToHomomorphismStructure( gamma );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( InterpretMorphismFromDistinguishedObjectToHomomorphismStructureAsMorphism( Source( a ), Range( a ), InterpretMorphismAsMorphismFromDistinguishedObjectToHomomorphismStructure( a ) ), a );;[127X[104X
    [4X[25Xgap>[125X [27Xa := ZeroObjectFunctorial( cat );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( InterpretMorphismFromDistinguishedObjectToHomomorphismStructureAsMorphism( Source( a ), Range( a ), InterpretMorphismAsMorphismFromDistinguishedObjectToHomomorphismStructure( a ) ), a );;[127X[104X
    [4X[25Xgap>[125X [27XZ4 := FreydCategoryObject( AsCategoryOfRowsMorphism( HomalgMatrix( "[4]", 1, 1, R ), cat ) );;[127X[104X
    [4X[25Xgap>[125X [27XZ3 := FreydCategoryObject( AsCategoryOfRowsMorphism( HomalgMatrix( "[3]", 1, 1, R ), cat ) );;[127X[104X
    [4X[25Xgap>[125X [27XHomomorphismStructureOnObjects( Z4, Z2 );;[127X[104X
    [4X[25Xgap>[125X [27XHomomorphismStructureOnObjects( Z4, Z4 );;[127X[104X
    [4X[25Xgap>[125X [27XHomomorphismStructureOnObjects( Z2, Z4 );;[127X[104X
    [4X[25Xgap>[125X [27XHomomorphismStructureOnObjects( Z3, Z4 );;[127X[104X
    [4X[25Xgap>[125X [27XHomomorphismStructureOnMorphisms( IdentityMorphism( DirectSum( Z4, Z2, Z3 ) ), -IdentityMorphism( DirectSum( Z4, Z3 ) ) );;[127X[104X
    [4X[25Xgap>[125X [27X## Lifts[127X[104X
    [4X[25X>[125X [27XS2 := CategoryOfRowsObject( 2, Rows_S );;[127X[104X
    [4X[25Xgap>[125X [27XS4 := CategoryOfRowsObject( 4, Rows_S );;[127X[104X
    [4X[25Xgap>[125X [27XS1_freyd := AsFreydCategoryObject( S1 );;[127X[104X
    [4X[25Xgap>[125X [27XS2_freyd := AsFreydCategoryObject( S2 );;[127X[104X
    [4X[25Xgap>[125X [27XS3_freyd := AsFreydCategoryObject( S3 );;[127X[104X
    [4X[25Xgap>[125X [27XS4_freyd := AsFreydCategoryObject( S4 );;[127X[104X
    [4X[25Xgap>[125X [27Xlift := FreydCategoryMorphism( S1_freyd, CategoryOfRowsMorphism( S1, HomalgMatrix( "[x]", 1, 1, S ), S1 ), S1_freyd );;[127X[104X
    [4X[25Xgap>[125X [27Xgamma := FreydCategoryMorphism( S1_freyd, CategoryOfRowsMorphism( S1, HomalgMatrix( "[y]", 1,1, S ), S1 ), S1_freyd );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := PreCompose( lift, gamma );;[127X[104X
    [4X[25Xgap>[125X [27XIsLiftable( alpha, gamma );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XLift( alpha, gamma );;[127X[104X
    [4X[25Xgap>[125X [27XIsColiftable( lift, alpha );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( PreCompose( lift, Colift( lift, alpha ) ), alpha );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xlift := FreydCategoryMorphism( S2_freyd, CategoryOfRowsMorphism( S2, HomalgMatrix( "[x,y,z,x^2,1,z+1]", 2, 3, S ), S3 ), S3_freyd );;[127X[104X
    [4X[25Xgap>[125X [27Xgamma := FreydCategoryMorphism( S3_freyd, CategoryOfRowsMorphism( S3, HomalgMatrix( "[x,y,z,z+1, x^2,y^2,z^2,z^2+1, x^3,y^3,z^3,z^3+1]", 3,4, S ), S4 ), S4_freyd );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := PreCompose( lift, gamma );;[127X[104X
    [4X[25Xgap>[125X [27XLift( alpha, gamma );;[127X[104X
    [4X[25Xgap>[125X [27XColift( lift, alpha );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( PreCompose( lift, Colift( lift, alpha ) ), alpha );;[127X[104X
    [4X[25Xgap>[125X [27Xinterpretation := InterpretMorphismAsMorphismFromDistinguishedObjectToHomomorphismStructure( gamma );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( gamma,[127X[104X
    [4X[25X>[125X [27XInterpretMorphismFromDistinguishedObjectToHomomorphismStructureAsMorphism( Source( gamma ), Range( gamma ), interpretation ) );;[127X[104X
    [4X[25Xgap>[125X [27X## Opposite[127X[104X
    [4X[25X>[125X [27XHomomorphismStructureOnObjects( Opposite( Z4 ), Opposite( Z2 ) );;[127X[104X
    [4X[25Xgap>[125X [27XHomomorphismStructureOnObjects( Z2, Z4 );;[127X[104X
    [4X[25Xgap>[125X [27Xinterpretation := InterpretMorphismAsMorphismFromDistinguishedObjectToHomomorphismStructure( Opposite( gamma ) );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( Opposite( gamma ),[127X[104X
    [4X[25X>[125X [27XInterpretMorphismFromDistinguishedObjectToHomomorphismStructureAsMorphism( Source( Opposite( gamma ) ), Range( Opposite( gamma ) ), interpretation ) );[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  
  [1X12.5 [33X[0;0YBasics based on category of columns[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XR := HomalgRingOfIntegers();;[127X[104X
    [4X[25Xgap>[125X [27Xcat := CategoryOfColumns( R );;[127X[104X
    [4X[25Xgap>[125X [27Xobj1 := CategoryOfColumnsObject( 1, cat );;[127X[104X
    [4X[25Xgap>[125X [27Xobj2 := CategoryOfColumnsObject( 2, cat );;[127X[104X
    [4X[25Xgap>[125X [27Xid := IdentityMorphism( obj2 );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := CategoryOfColumnsMorphism( obj1, HomalgMatrix( [ [ 1 ], [ 2 ] ], 1, 2, R ), obj2 );;[127X[104X
    [4X[25Xgap>[125X [27Xbeta := CategoryOfColumnsMorphism( obj2, HomalgMatrix( [ [ 1, 2 ], [ 3, 4 ] ], 2, 2, R ), obj2 );;[127X[104X
    [4X[25Xgap>[125X [27Xcomp := PreCompose( alpha, beta );;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( comp );;[127X[104X
    [4X[25Xgap>[125X [27Xzero := ZeroMorphism( obj1, obj2 );;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( zero );;[127X[104X
    [4X[25Xgap>[125X [27XZeroObject( cat );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismIntoZeroObject( obj2 );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismFromZeroObject( obj1 );;[127X[104X
    [4X[25Xgap>[125X [27XDirectSum( obj1, obj2 );;[127X[104X
    [4X[25Xgap>[125X [27XDirectSumFunctorial( [ alpha, beta, id ] );;[127X[104X
    [4X[25Xgap>[125X [27Xproj := ProjectionInFactorOfDirectSum( [ obj2, obj1, obj2 ], 2 );;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( ComponentOfMorphismFromDirectSum( proj, [ obj2, obj1, obj2 ], 1 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsOne( ComponentOfMorphismFromDirectSum( proj, [ obj2, obj1, obj2 ], 2 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( ComponentOfMorphismFromDirectSum( proj, [ obj2, obj1, obj2 ], 3 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismIntoDirectSum( [ alpha, alpha, alpha ] );;[127X[104X
    [4X[25Xgap>[125X [27Xinj := InjectionOfCofactorOfDirectSum( [ obj2, obj2, obj1 ], 2 );;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( ComponentOfMorphismIntoDirectSum( inj, [ obj2, obj2, obj1 ], 1 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsOne( ComponentOfMorphismIntoDirectSum( inj, [ obj2, obj2, obj1 ], 2 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( ComponentOfMorphismIntoDirectSum( inj, [ obj2, obj2, obj1 ], 3 ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xgamma := CategoryOfColumnsMorphism( obj2, HomalgMatrix( [ [ 1, 1 ], [ 1, 1 ] ], 2, 2, R ), obj2 );;[127X[104X
    [4X[25Xgap>[125X [27XIsColiftable( beta, gamma );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsColiftable( gamma, beta );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XProjectionInFirstFactorOfWeakBiFiberProduct( gamma, gamma );;[127X[104X
    [4X[25Xgap>[125X [27XProjectionInFirstFactorOfWeakBiFiberProduct( gamma, ZeroMorphism( Range( gamma ), Range( gamma ) ) );;[127X[104X
    [4X[25Xgap>[125X [27Xlift_arg_1 := PreCompose( ProjectionInFirstFactorOfWeakBiFiberProduct( gamma, gamma + gamma ), gamma );;[127X[104X
    [4X[25Xgap>[125X [27Xlift_arg_2 := gamma + gamma;;[127X[104X
    [4X[25Xgap>[125X [27XIsLiftable( lift_arg_1, lift_arg_2 );;[127X[104X
    [4X[25Xgap>[125X [27XLift( lift_arg_1, lift_arg_2 );;[127X[104X
    [4X[25Xgap>[125X [27Xpi1 := ProjectionInFirstFactorOfWeakBiFiberProduct( alpha, beta );;[127X[104X
    [4X[25Xgap>[125X [27Xpi2 := ProjectionInSecondFactorOfWeakBiFiberProduct( alpha, beta );;[127X[104X
    [4X[25Xgap>[125X [27XIsEqualForMorphisms( PreCompose( pi1, alpha ), PreCompose( pi2, beta ) );;[127X[104X
    [4X[25Xgap>[125X [27Xinj1 := InjectionOfFirstCofactorOfWeakBiPushout( gamma + gamma, gamma );;[127X[104X
    [4X[25Xgap>[125X [27Xinj2 := InjectionOfSecondCofactorOfWeakBiPushout( gamma + gamma, gamma );;[127X[104X
    [4X[25Xgap>[125X [27XIsEqualForMorphisms( PreCompose( gamma + gamma, inj1 ), PreCompose( gamma, inj2 ) );;[127X[104X
    [4X[25Xgap>[125X [27XWeakKernelLift( WeakCokernelProjection( gamma ), gamma );;[127X[104X
    [4X[25Xgap>[125X [27Xpi1 := InjectionOfFirstCofactorOfWeakBiPushout( alpha, alpha );;[127X[104X
    [4X[25Xgap>[125X [27Xpi2 := InjectionOfSecondCofactorOfWeakBiPushout( alpha, alpha );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismFromWeakBiPushout( alpha, alpha, pi1, pi2 );;[127X[104X
    [4X[25Xgap>[125X [27X## Freyd categories[127X[104X
    [4X[25X>[125X [27Xfreyd := FreydCategory( cat );;[127X[104X
    [4X[25Xgap>[125X [27XIsAbelianCategory( freyd );;[127X[104X
    [4X[25Xgap>[125X [27Xobj_gamma := FreydCategoryObject( gamma );;[127X[104X
    [4X[25Xgap>[125X [27Xf := FreydCategoryMorphism( obj_gamma, gamma, obj_gamma );;[127X[104X
    [4X[25Xgap>[125X [27Xwitness := MorphismWitness( f );;[127X[104X
    [4X[25Xgap>[125X [27Xg := FreydCategoryMorphism( obj_gamma, ZeroMorphism( obj2, obj2 ), obj_gamma );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( f, g );;[127X[104X
    [4X[25Xgap>[125X [27Xc := PreCompose( f, f );;[127X[104X
    [4X[25Xgap>[125X [27Xs := g + g;;[127X[104X
    [4X[25Xgap>[125X [27Xa := CategoryOfColumnsMorphism( obj1, HomalgMatrix( [ [ 2 ] ], 1, 1, R ), obj1 );;[127X[104X
    [4X[25Xgap>[125X [27XZ2 := FreydCategoryObject( a );;[127X[104X
    [4X[25Xgap>[125X [27Xid := IdentityMorphism( Z2 );;[127X[104X
    [4X[25Xgap>[125X [27Xz := id + id + id;;[127X[104X
    [4X[25Xgap>[125X [27Xd := DirectSumFunctorial( [ z, z, z ] );;[127X[104X
    [4X[25Xgap>[125X [27Xpr2 := ProjectionInFactorOfDirectSum( [ Z2, Z2, Z2 ], 2 );;[127X[104X
    [4X[25Xgap>[125X [27Xpr3 := ProjectionInFactorOfDirectSum( [ Z2, Z2, Z2 ], 3 );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismIntoDirectSum( [ pr3, pr2 ] );;[127X[104X
    [4X[25Xgap>[125X [27Xinj1 := InjectionOfCofactorOfDirectSum( [ Z2, Z2, Z2 ], 1 );;[127X[104X
    [4X[25Xgap>[125X [27Xinj2 := InjectionOfCofactorOfDirectSum( [ Z2, Z2, Z2 ], 2 );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismFromDirectSum( [ inj2, inj1 ] );;[127X[104X
    [4X[25Xgap>[125X [27XZFree := AsFreydCategoryObject( obj1 );;[127X[104X
    [4X[25Xgap>[125X [27Xid := IdentityMorphism( ZFree );;[127X[104X
    [4X[25Xgap>[125X [27Xz := id + id;;[127X[104X
    [4X[25Xgap>[125X [27XCokernelProjection( z );;[127X[104X
    [4X[25Xgap>[125X [27XCokernelColift( z, CokernelProjection( z ) );;[127X[104X
    [4X[25Xgap>[125X [27XS := HomalgFieldOfRationalsInSingular() * "x,y,z";;[127X[104X
    [4X[25Xgap>[125X [27XCols_S := CategoryOfColumns( S );;[127X[104X
    [4X[25Xgap>[125X [27XS3 := CategoryOfColumnsObject( 3, Cols_S );;[127X[104X
    [4X[25Xgap>[125X [27XS1 := CategoryOfColumnsObject( 1, Cols_S );;[127X[104X
    [4X[25Xgap>[125X [27Xmor := CategoryOfColumnsMorphism( S3, HomalgMatrix( "[x,y,z]", 1, 3, S ), S1 );;[127X[104X
    [4X[25Xgap>[125X [27Xbiased_w := CategoryOfColumnsMorphism( S3, HomalgMatrix( "[x,0,0,0,x,0,0,0,x]", 3, 3, S ), S3 );;[127X[104X
    [4X[25Xgap>[125X [27Xbiased_h := CategoryOfColumnsMorphism( S3, HomalgMatrix( "[x*y, x*z, y^2]", 3, 3, S ), S3 );;[127X[104X
    [4X[25Xgap>[125X [27XBiasedWeakFiberProduct( biased_h, biased_w );;[127X[104X
    [4X[25Xgap>[125X [27XProjectionOfBiasedWeakFiberProduct( biased_h, biased_w );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms([127X[104X
    [4X[25X>[125X [27X   PreCompose( UniversalMorphismIntoBiasedWeakFiberProduct( biased_h, biased_w, biased_h ), ProjectionOfBiasedWeakFiberProduct( biased_h, biased_w ) ),[127X[104X
    [4X[25X>[125X [27X   biased_h[127X[104X
    [4X[25X>[125X [27X);[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms([127X[104X
    [4X[25X>[125X [27X  PreCompose( InjectionOfBiasedWeakPushout( biased_h, biased_w ), UniversalMorphismFromBiasedWeakPushout( biased_h, biased_w, biased_h )),[127X[104X
    [4X[25X>[125X [27X  biased_h[127X[104X
    [4X[25X>[125X [27X);[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xk := FreydCategoryObject( mor );;[127X[104X
    [4X[25Xgap>[125X [27Xw := EpimorphismFromSomeProjectiveObjectForKernelObject( UniversalMorphismIntoZeroObject( k ) );;[127X[104X
    [4X[25Xgap>[125X [27Xk := KernelEmbedding( w );;[127X[104X
    [4X[25Xgap>[125X [27XColiftAlongEpimorphism( CokernelProjection( k ), CokernelProjection( k ) );;[127X[104X
    [4X[25Xgap>[125X [27X## Homomorphism structures[127X[104X
    [4X[25X>[125X [27Xa := InterpretMorphismAsMorphismFromDistinguishedObjectToHomomorphismStructure( gamma );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( InterpretMorphismFromDistinguishedObjectToHomomorphismStructureAsMorphism( Source( a ), Range( a ), InterpretMorphismAsMorphismFromDistinguishedObjectToHomomorphismStructure( a ) ), a );;[127X[104X
    [4X[25Xgap>[125X [27Xa := ZeroObjectFunctorial( cat );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( InterpretMorphismFromDistinguishedObjectToHomomorphismStructureAsMorphism( Source( a ), Range( a ), InterpretMorphismAsMorphismFromDistinguishedObjectToHomomorphismStructure( a ) ), a );;[127X[104X
    [4X[25Xgap>[125X [27XZ4 := FreydCategoryObject( AsCategoryOfColumnsMorphism( HomalgMatrix( "[4]", 1, 1, R ), cat ) );;[127X[104X
    [4X[25Xgap>[125X [27XZ3 := FreydCategoryObject( AsCategoryOfColumnsMorphism( HomalgMatrix( "[3]", 1, 1, R ), cat ) );;[127X[104X
    [4X[25Xgap>[125X [27XHomomorphismStructureOnObjects( Z4, Z2 );;[127X[104X
    [4X[25Xgap>[125X [27XHomomorphismStructureOnObjects( Z4, Z4 );;[127X[104X
    [4X[25Xgap>[125X [27XHomomorphismStructureOnObjects( Z2, Z4 );;[127X[104X
    [4X[25Xgap>[125X [27XHomomorphismStructureOnObjects( Z3, Z4 );;[127X[104X
    [4X[25Xgap>[125X [27XHomomorphismStructureOnMorphisms( IdentityMorphism( DirectSum( Z4, Z2, Z3 ) ), -IdentityMorphism( DirectSum( Z4, Z3 ) ) );;[127X[104X
    [4X[25Xgap>[125X [27X## Lifts[127X[104X
    [4X[25X>[125X [27XS2 := CategoryOfColumnsObject( 2, Cols_S );;[127X[104X
    [4X[25Xgap>[125X [27XS4 := CategoryOfColumnsObject( 4, Cols_S );;[127X[104X
    [4X[25Xgap>[125X [27XS1_freyd := AsFreydCategoryObject( S1 );;[127X[104X
    [4X[25Xgap>[125X [27XS2_freyd := AsFreydCategoryObject( S2 );;[127X[104X
    [4X[25Xgap>[125X [27XS3_freyd := AsFreydCategoryObject( S3 );;[127X[104X
    [4X[25Xgap>[125X [27XS4_freyd := AsFreydCategoryObject( S4 );;[127X[104X
    [4X[25Xgap>[125X [27Xlift := FreydCategoryMorphism( S1_freyd, CategoryOfColumnsMorphism( S1, HomalgMatrix( "[x]", 1, 1, S ), S1 ), S1_freyd );;[127X[104X
    [4X[25Xgap>[125X [27Xgamma := FreydCategoryMorphism( S1_freyd, CategoryOfColumnsMorphism( S1, HomalgMatrix( "[y]", 1,1, S ), S1 ), S1_freyd );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := PreCompose( lift, gamma );;[127X[104X
    [4X[25Xgap>[125X [27XLift( alpha, gamma );;[127X[104X
    [4X[25Xgap>[125X [27XColift( lift, alpha );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( PreCompose( lift, Colift( lift, alpha ) ), alpha );;[127X[104X
    [4X[25Xgap>[125X [27Xlift := FreydCategoryMorphism( S2_freyd, CategoryOfColumnsMorphism( S2, HomalgMatrix( "[x,y,z,x^2,1,z+1]", 3, 2, S ), S3 ), S3_freyd );;[127X[104X
    [4X[25Xgap>[125X [27Xgamma := FreydCategoryMorphism( S3_freyd, CategoryOfColumnsMorphism( S3, HomalgMatrix( "[x,y,z,z+1, x^2,y^2,z^2,z^2+1, x^3,y^3,z^3,z^3+1]", 4,3, S ), S4 ), S4_freyd );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := PreCompose( lift, gamma );;[127X[104X
    [4X[25Xgap>[125X [27XLift( alpha, gamma );;[127X[104X
    [4X[25Xgap>[125X [27XColift( lift, alpha );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( PreCompose( lift, Colift( lift, alpha ) ), alpha );;[127X[104X
    [4X[25Xgap>[125X [27Xinterpretation := InterpretMorphismAsMorphismFromDistinguishedObjectToHomomorphismStructure( gamma );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( gamma,[127X[104X
    [4X[25X>[125X [27XInterpretMorphismFromDistinguishedObjectToHomomorphismStructureAsMorphism( Source( gamma ), Range( gamma ), interpretation ) );;[127X[104X
    [4X[25Xgap>[125X [27X## Opposite[127X[104X
    [4X[25X>[125X [27XHomomorphismStructureOnObjects( Opposite( Z4 ), Opposite( Z2 ) );;[127X[104X
    [4X[25Xgap>[125X [27XHomomorphismStructureOnObjects( Z2, Z4 );;[127X[104X
    [4X[25Xgap>[125X [27Xinterpretation := InterpretMorphismAsMorphismFromDistinguishedObjectToHomomorphismStructure( Opposite( gamma ) );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( Opposite( gamma ),[127X[104X
    [4X[25X>[125X [27XInterpretMorphismFromDistinguishedObjectToHomomorphismStructureAsMorphism( Source( Opposite( gamma ) ), Range( Opposite( gamma ) ), interpretation ) );[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  
  [1X12.6 [33X[0;0YCoFreyd category[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XLoadPackage( "FreydCategoriesForCAP", false );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XZZZ := HomalgRingOfIntegers( );;[127X[104X
    [4X[25Xgap>[125X [27Xrows := CategoryOfRows( ZZZ );;[127X[104X
    [4X[25Xgap>[125X [27Xco_freyd := CoFreydCategory( rows );[127X[104X
    [4X[28XCoFreyd( Rows( Z ) )[128X[104X
    [4X[25Xgap>[125X [27Xrows_obj := CategoryOfRowsObject( rows, 1 );; # ZZZ^1[127X[104X
    [4X[25Xgap>[125X [27Xco_freyd_obj := AsCoFreydCategoryObject( rows_obj );; # ZZZ^1 -> 0[127X[104X
    [4X[25Xgap>[125X [27Xrows_mor := CategoryOfRowsMorphism( rows, rows_obj, HomalgMatrix( [ 2 ], 1, 1, ZZZ ), rows_obj );; # ZZZ^1 --2-> ZZZ^1[127X[104X
    [4X[25Xgap>[125X [27Xco_freyd_mor := CoFreydCategoryMorphism( co_freyd_obj, rows_mor, co_freyd_obj );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( co_freyd_mor );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XDisplay( KernelObject( co_freyd_mor ) );[127X[104X
    [4X[28X[128X[104X
    [4X[28X--------------------------------[128X[104X
    [4X[28XCoRelation morphism:[128X[104X
    [4X[28X--------------------------------[128X[104X
    [4X[28X[128X[104X
    [4X[28XSource: [128X[104X
    [4X[28XA row module over Z of rank 1[128X[104X
    [4X[28X[128X[104X
    [4X[28XMatrix: [128X[104X
    [4X[28X[ [  2 ] ][128X[104X
    [4X[28X[128X[104X
    [4X[28XRange: [128X[104X
    [4X[28XA row module over Z of rank 1[128X[104X
    [4X[28X[128X[104X
    [4X[28XA morphism in Rows( Z )[128X[104X
    [4X[28X[128X[104X
    [4X[28X[128X[104X
    [4X[28X--------------------------------[128X[104X
    [4X[28XGeneral description:[128X[104X
    [4X[28X--------------------------------[128X[104X
    [4X[28X[128X[104X
    [4X[28XAn object in CoFreyd( Rows( Z ) )[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XDisplay( UnderlyingMorphism( KernelEmbedding( co_freyd_mor ) ) );[127X[104X
    [4X[28XSource: [128X[104X
    [4X[28XA row module over Z of rank 1[128X[104X
    [4X[28X[128X[104X
    [4X[28XMatrix: [128X[104X
    [4X[28X[ [  1 ] ][128X[104X
    [4X[28X[128X[104X
    [4X[28XRange: [128X[104X
    [4X[28XA row module over Z of rank 1[128X[104X
    [4X[28X[128X[104X
    [4X[28XAn identity morphism in Rows( Z )[128X[104X
    [4X[25Xgap>[125X [27XDisplay( CokernelObject( co_freyd_mor ) );[127X[104X
    [4X[28X[128X[104X
    [4X[28X--------------------------------[128X[104X
    [4X[28XCoRelation morphism:[128X[104X
    [4X[28X--------------------------------[128X[104X
    [4X[28X[128X[104X
    [4X[28XSource: [128X[104X
    [4X[28XA row module over Z of rank 0[128X[104X
    [4X[28X[128X[104X
    [4X[28XMatrix: [128X[104X
    [4X[28X(an empty 0 x 0 matrix)[128X[104X
    [4X[28X[128X[104X
    [4X[28XRange: [128X[104X
    [4X[28XA row module over Z of rank 0[128X[104X
    [4X[28X[128X[104X
    [4X[28XA morphism in Rows( Z )[128X[104X
    [4X[28X[128X[104X
    [4X[28X[128X[104X
    [4X[28X--------------------------------[128X[104X
    [4X[28XGeneral description:[128X[104X
    [4X[28X--------------------------------[128X[104X
    [4X[28X[128X[104X
    [4X[28XAn object in CoFreyd( Rows( Z ) )[128X[104X
    [4X[28X[128X[104X
    [4X[25Xgap>[125X [27XDisplay( UnderlyingMorphism( CokernelProjection( co_freyd_mor ) ) );[127X[104X
    [4X[28XSource: [128X[104X
    [4X[28XA row module over Z of rank 1[128X[104X
    [4X[28X[128X[104X
    [4X[28XMatrix: [128X[104X
    [4X[28X(an empty 1 x 0 matrix)[128X[104X
    [4X[28X[128X[104X
    [4X[28XRange: [128X[104X
    [4X[28XA row module over Z of rank 0[128X[104X
    [4X[28X[128X[104X
    [4X[28XA morphism in Rows( Z )[128X[104X
  [4X[32X[104X
  
  
  [1X12.7 [33X[0;0YCokernel image closure in category of rows[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XR := HomalgFieldOfRationalsInSingular() * "x,y,z";;[127X[104X
    [4X[25Xgap>[125X [27XRowsR := CategoryOfRows( R );;[127X[104X
    [4X[25Xgap>[125X [27Xm := AsCategoryOfRowsMorphism( [127X[104X
    [4X[25X>[125X [27X    HomalgMatrix( "[[x],[y],[z]]", 3, 1, R ), RowsR[127X[104X
    [4X[25X>[125X [27X);;[127X[104X
    [4X[25Xgap>[125X [27Xmu := AsCokernelImageClosureMorphism( m );;[127X[104X
    [4X[25Xgap>[125X [27XC := CokernelObject( mu );;[127X[104X
    [4X[25Xgap>[125X [27XC2 := AsFinitelyPresentedCokernelImageClosureObject( m );;[127X[104X
    [4X[25Xgap>[125X [27XIsEqualForObjects( C, C2 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xn := AsCategoryOfRowsMorphism( [127X[104X
    [4X[25X>[125X [27X    HomalgMatrix( "[[x,y],[y^2,z]]", 2, 2, R ), RowsR[127X[104X
    [4X[25X>[125X [27X);;[127X[104X
    [4X[25Xgap>[125X [27Xnu := AsCokernelImageClosureMorphism( n );;[127X[104X
    [4X[25Xgap>[125X [27Xnu2 := PreCompose( nu, nu );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( nu2 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( nu, nu2 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27Xnu + nu;;[127X[104X
    [4X[25Xgap>[125X [27Xnu2 - nu;;[127X[104X
    [4X[25Xgap>[125X [27Xcat := CapCategory( nu );;[127X[104X
    [4X[25Xgap>[125X [27XZeroObject( cat );;[127X[104X
    [4X[25Xgap>[125X [27XZeroMorphism( Source( nu ), Source( mu ) );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismIntoZeroObject( Source( nu ) );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismFromZeroObject( Source( nu ) );;[127X[104X
    [4X[25Xgap>[125X [27XS := Source( mu );;[127X[104X
    [4X[25Xgap>[125X [27XDirectSum( [S, S, S ] );;[127X[104X
    [4X[25Xgap>[125X [27XDirectSumFunctorial( [ nu2, nu ] );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismIntoDirectSum( [ nu, nu ] );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismFromDirectSum( [ nu, nu ] );;[127X[104X
    [4X[25Xgap>[125X [27XProjectionInFactorOfDirectSum( [ S, S, S ], 2 );;[127X[104X
    [4X[25Xgap>[125X [27XInjectionOfCofactorOfDirectSum( [ S, S, S, S ], 4 );;[127X[104X
    [4X[25Xgap>[125X [27XCokernelColift( nu, CokernelProjection( nu ) );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( nu, PreCompose( CoastrictionToImage( nu ), ImageEmbedding( nu ) ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xu := UniversalMorphismFromImage( nu, [ nu, IdentityMorphism( Range( nu ) ) ] );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( u );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( nu, PreCompose( CoastrictionToImage( nu ), u ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( u, ImageEmbedding( nu ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xkernel := KernelObject( mu );;[127X[104X
    [4X[25Xgap>[125X [27Xemb := KernelEmbedding( mu );;[127X[104X
    [4X[25Xgap>[125X [27Xp := PreCompose( EpimorphismFromSomeProjectiveObject( kernel ), KernelEmbedding( mu ) );;[127X[104X
    [4X[25Xgap>[125X [27XKernelLift( mu, p );;[127X[104X
    [4X[25Xgap>[125X [27XLiftAlongMonomorphism( emb, p );;[127X[104X
    [4X[25Xgap>[125X [27XI_to_A := FunctorCokernelImageClosureToFreydCategory( RowsR );;[127X[104X
    [4X[25Xgap>[125X [27XA_to_I := FunctorFreydCategoryToCokernelImageClosure( RowsR );;[127X[104X
    [4X[25Xgap>[125X [27XApplyFunctor( I_to_A, kernel );;[127X[104X
    [4X[25Xgap>[125X [27XApplyFunctor( A_to_I, ApplyFunctor( I_to_A, kernel ) );;[127X[104X
    [4X[25Xgap>[125X [27Xnu := NaturalIsomorphismFromIdentityToFinitePresentationOfCokernelImageClosureObject( RowsR );;[127X[104X
    [4X[25Xgap>[125X [27Xmu := NaturalIsomorphismFromFinitePresentationOfCokernelImageClosureObjectToIdentity( RowsR );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms([127X[104X
    [4X[25X>[125X [27X    IdentityMorphism( kernel ),[127X[104X
    [4X[25X>[125X [27X    PreCompose( ApplyNaturalTransformation( nu, kernel ), ApplyNaturalTransformation( mu, kernel ) )[127X[104X
    [4X[25X>[125X [27X);[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  
  [1X12.8 [33X[0;0YCokernel image closure in category of columns[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XR := HomalgFieldOfRationalsInSingular() * "x,y,z";;[127X[104X
    [4X[25Xgap>[125X [27XColsR := CategoryOfColumns( R );;[127X[104X
    [4X[25Xgap>[125X [27Xm := AsCategoryOfColumnsMorphism( [127X[104X
    [4X[25X>[125X [27X     HomalgMatrix( "[[x],[y],[z]]", 1, 3, R ), ColsR[127X[104X
    [4X[25X>[125X [27X);;[127X[104X
    [4X[25Xgap>[125X [27Xmu := AsCokernelImageClosureMorphism( m );;[127X[104X
    [4X[25Xgap>[125X [27XC := CokernelObject( mu );;[127X[104X
    [4X[25Xgap>[125X [27XC2 := AsFinitelyPresentedCokernelImageClosureObject( m );;[127X[104X
    [4X[25Xgap>[125X [27XIsEqualForObjects( C, C2 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xn := AsCategoryOfColumnsMorphism( [127X[104X
    [4X[25X>[125X [27X    HomalgMatrix( "[[x,y],[y^2,z]]", 2, 2, R ), ColsR[127X[104X
    [4X[25X>[125X [27X);;[127X[104X
    [4X[25Xgap>[125X [27Xnu := AsCokernelImageClosureMorphism( n );;[127X[104X
    [4X[25Xgap>[125X [27Xnu2 := PreCompose( nu, nu );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( nu2 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( nu, nu2 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27Xnu + nu;;[127X[104X
    [4X[25Xgap>[125X [27Xnu2 - nu;;[127X[104X
    [4X[25Xgap>[125X [27Xcat := CapCategory( nu );;[127X[104X
    [4X[25Xgap>[125X [27XZeroObject( cat );;[127X[104X
    [4X[25Xgap>[125X [27XZeroMorphism( Source( nu ), Source( mu ) );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismIntoZeroObject( Source( nu ) );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismFromZeroObject( Source( nu ) );;[127X[104X
    [4X[25Xgap>[125X [27XS := Source( mu );;[127X[104X
    [4X[25Xgap>[125X [27XDirectSum( [S, S, S ] );;[127X[104X
    [4X[25Xgap>[125X [27XDirectSumFunctorial( [ nu2, nu ] );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismIntoDirectSum( [ nu, nu ] );;[127X[104X
    [4X[25Xgap>[125X [27XUniversalMorphismFromDirectSum( [ nu, nu ] );;[127X[104X
    [4X[25Xgap>[125X [27XProjectionInFactorOfDirectSum( [ S, S, S ], 2 );;[127X[104X
    [4X[25Xgap>[125X [27XInjectionOfCofactorOfDirectSum( [ S, S, S, S ], 4 );;[127X[104X
    [4X[25Xgap>[125X [27XCokernelColift( nu, CokernelProjection( nu ) );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( nu, PreCompose( CoastrictionToImage( nu ), ImageEmbedding( nu ) ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xu := UniversalMorphismFromImage( nu, [ nu, IdentityMorphism( Range( nu ) ) ] );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( u );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( nu, PreCompose( CoastrictionToImage( nu ), u ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( u, ImageEmbedding( nu ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xkernel := KernelObject( mu );;[127X[104X
    [4X[25Xgap>[125X [27Xemb := KernelEmbedding( mu );;[127X[104X
    [4X[25Xgap>[125X [27Xp := PreCompose( EpimorphismFromSomeProjectiveObject( kernel ), KernelEmbedding( mu ) );;[127X[104X
    [4X[25Xgap>[125X [27XKernelLift( mu, p );;[127X[104X
    [4X[25Xgap>[125X [27XLiftAlongMonomorphism( emb, p );;[127X[104X
    [4X[25Xgap>[125X [27XI_to_A := FunctorCokernelImageClosureToFreydCategory( ColsR );;[127X[104X
    [4X[25Xgap>[125X [27XA_to_I := FunctorFreydCategoryToCokernelImageClosure( ColsR );;[127X[104X
    [4X[25Xgap>[125X [27XApplyFunctor( I_to_A, kernel );;[127X[104X
    [4X[25Xgap>[125X [27XApplyFunctor( A_to_I, ApplyFunctor( I_to_A, kernel ) );;[127X[104X
    [4X[25Xgap>[125X [27Xnu := NaturalIsomorphismFromIdentityToFinitePresentationOfCokernelImageClosureObject( ColsR );;[127X[104X
    [4X[25Xgap>[125X [27Xmu := NaturalIsomorphismFromFinitePresentationOfCokernelImageClosureObjectToIdentity( ColsR );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms([127X[104X
    [4X[25X>[125X [27X    IdentityMorphism( kernel ),[127X[104X
    [4X[25X>[125X [27X    PreCompose( ApplyNaturalTransformation( nu, kernel ), ApplyNaturalTransformation( mu, kernel ) )[127X[104X
    [4X[25X>[125X [27X);[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  
  [1X12.9 [33X[0;0YAdelman category basics[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XR := HomalgRingOfIntegers();;[127X[104X
    [4X[25Xgap>[125X [27XRowsR := CategoryOfRows( R );;[127X[104X
    [4X[25Xgap>[125X [27Xone := AsCategoryOfRowsMorphism( HomalgMatrix( [ [ 1 ] ], 1, 1, R ), RowsR );;[127X[104X
    [4X[25Xgap>[125X [27Xtwo := AsCategoryOfRowsMorphism( HomalgMatrix( [ [ 2 ] ], 1, 1, R ), RowsR );;[127X[104X
    [4X[25Xgap>[125X [27Xfour := AsCategoryOfRowsMorphism( HomalgMatrix( [ [ 4 ] ], 1, 1, R ), RowsR );;[127X[104X
    [4X[25Xgap>[125X [27Xsource := AdelmanCategoryObject( two, two );;[127X[104X
    [4X[25Xgap>[125X [27Xrange := AdelmanCategoryObject( two, four );;[127X[104X
    [4X[25Xgap>[125X [27Xmor := AdelmanCategoryMorphism( source, one, range );;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( mor );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27Xemb := EmbeddingFunctorIntoFreydCategory( RowsR );;[127X[104X
    [4X[25Xgap>[125X [27Xind := AdelmanCategoryFunctorInducedByUniversalProperty( emb );;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( ApplyFunctor( ind, mor ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XM := FreydCategoryObject( AsCategoryOfRowsMorphism( HomalgMatrix( [ [  2, 2, 2 ], [ 4, 4, 6 ] ], 2, 3, R ), RowsR ) );;[127X[104X
    [4X[25Xgap>[125X [27Xas_tensor := EmbeddingFunctorOfFreydCategoryIntoAdelmanCategory( RowsR );;[127X[104X
    [4X[25Xgap>[125X [27XMt := ApplyFunctor( as_tensor, M );;[127X[104X
    [4X[25Xgap>[125X [27Xlsat := LeftSatelliteAsEndofunctorOfAdelmanCategory( RowsR );;[127X[104X
    [4X[25Xgap>[125X [27Xrsat := RightSatelliteAsEndofunctorOfAdelmanCategory( RowsR );;[127X[104X
    [4X[25Xgap>[125X [27Xtorsion := ApplyFunctor( ind, ( ApplyFunctor( rsat, ApplyFunctor( lsat, Mt ) ) ) );;[127X[104X
    [4X[25Xgap>[125X [27Xunit := UnitOfSatelliteAdjunctionOfAdelmanCategory( RowsR );;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( ApplyNaturalTransformation( unit, Mt ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xcounit := CounitOfSatelliteAdjunctionOfAdelmanCategory( RowsR );;[127X[104X
    [4X[25Xgap>[125X [27Xt := ApplyNaturalTransformation( counit, Mt );;[127X[104X
  [4X[32X[104X
  
  
  [1X12.10 [33X[0;0YGrade filtration[133X[101X
  
  [33X[0;0YThe sequence of modules computed via satellites behaves in a way that is not
  understood in the case when the ring is not Auslander regular.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XR := HomalgFieldOfRationalsInSingular() * "x,y";;[127X[104X
    [4X[25Xgap>[125X [27XR := R/"x*y"/"x^2";;[127X[104X
    [4X[25Xgap>[125X [27XRowsR := CategoryOfRows( R );;[127X[104X
    [4X[25Xgap>[125X [27XFreyd := FreydCategory( RowsR );;[127X[104X
    [4X[25Xgap>[125X [27Xmat := HomalgMatrix( "[x,y]", 1, 2, R );;[127X[104X
    [4X[25Xgap>[125X [27XM := mat/Freyd;;[127X[104X
    [4X[25Xgap>[125X [27Xmu1 := GradeFiltrationNthMonomorphism( M, 1 );;[127X[104X
    [4X[25Xgap>[125X [27XIsMonomorphism( mu1 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsZero( mu1 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsEpimorphism( mu1 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27Xmu2 := GradeFiltrationNthMonomorphism( M, 2 );;[127X[104X
    [4X[25Xgap>[125X [27XIsIsomorphism( mu2 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsZero( mu2 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27Xmu3 := GradeFiltrationNthMonomorphism( M, 3 );;[127X[104X
    [4X[25Xgap>[125X [27XIsIsomorphism( mu3 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsZero( mu3 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27Xmu4 := GradeFiltrationNthMonomorphism( M, 4 );;[127X[104X
    [4X[25Xgap>[125X [27XIsMonomorphism( mu4 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsEpimorphism( mu4 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsZero( mu4 );[127X[104X
    [4X[28Xfalse[128X[104X
  [4X[32X[104X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XQxyz := HomalgFieldOfRationalsInDefaultCAS( ) * "x,y,z";;[127X[104X
    [4X[25Xgap>[125X [27Xwmat := HomalgMatrix( "[ \[127X[104X
    [4X[25X>[125X [27Xx*y,  y*z,    z,        0,         0,    \[127X[104X
    [4X[25X>[125X [27Xx^3*z,x^2*z^2,0,        x*z^2,     -z^2, \[127X[104X
    [4X[25X>[125X [27Xx^4,  x^3*z,  0,        x^2*z,     -x*z, \[127X[104X
    [4X[25X>[125X [27X0,    0,      x*y,      -y^2,      x^2-1,\[127X[104X
    [4X[25X>[125X [27X0,    0,      x^2*z,    -x*y*z,    y*z,  \[127X[104X
    [4X[25X>[125X [27X0,    0,      x^2*y-x^2,-x*y^2+x*y,y^2-y \[127X[104X
    [4X[25X>[125X [27X]", 6, 5, Qxyz );;[127X[104X
    [4X[25Xgap>[125X [27XRowsR := CategoryOfRows( Qxyz );;[127X[104X
    [4X[25Xgap>[125X [27XFreyd := FreydCategory( RowsR );;[127X[104X
    [4X[25Xgap>[125X [27XAdel := AdelmanCategory( RowsR );;[127X[104X
    [4X[25Xgap>[125X [27XM := wmat/Freyd;;[127X[104X
  [4X[32X[104X
  
  [33X[0;0YWe compute the grade sequence of functors (it turns out that on the level of
  functors, we don't get monos)[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XM_tor := M/Adel;;[127X[104X
    [4X[25Xgap>[125X [27XMu1 := GradeFiltrationNthNaturalTransformationComponent( M_tor, 1 );;[127X[104X
    [4X[25Xgap>[125X [27XIsZero( Mu1 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsMonomorphism( Mu1 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XMu2 := GradeFiltrationNthNaturalTransformationComponent( M_tor, 2 );;[127X[104X
    [4X[25Xgap>[125X [27XIsZero( Mu2 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsMonomorphism( Mu2 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XMu3 := GradeFiltrationNthNaturalTransformationComponent( M_tor, 3 );;[127X[104X
    [4X[25Xgap>[125X [27XIsZero( Mu3 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsMonomorphism( Mu3 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XMu4 := GradeFiltrationNthNaturalTransformationComponent( M_tor, 4 );;[127X[104X
    [4X[25Xgap>[125X [27XIsZero( Mu4 );[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  [33X[0;0YWe compute the grade sequence of modules (here, we really get monos and thus
  a filtration)[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27Xmu1 := GradeFiltrationNthMonomorphism( M, 1 );;[127X[104X
    [4X[25Xgap>[125X [27XIsZero( mu1 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsMonomorphism( mu1 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xmu2 := GradeFiltrationNthMonomorphism( M, 2 );;[127X[104X
    [4X[25Xgap>[125X [27XIsZero( mu2 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsMonomorphism( mu2 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xmu3 := GradeFiltrationNthMonomorphism( M, 3 );;[127X[104X
    [4X[25Xgap>[125X [27XIsZero( mu3 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsMonomorphism( mu3 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xmu4 := GradeFiltrationNthMonomorphism( M, 4 );;[127X[104X
    [4X[25Xgap>[125X [27XIsZero( mu4 );[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  
  [1X12.11 [33X[0;0YGroups as categories[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[28X#@if IsPackageMarkedForLoading( "FinSetsForCAP", ">= 2023.07-03" )[128X[104X
    [4X[25Xgap>[125X [27XG := SymmetricGroup( 3 );;[127X[104X
    [4X[25Xgap>[125X [27XCG := GroupAsCategory( G );;[127X[104X
    [4X[25Xgap>[125X [27Xu := GroupAsCategoryUniqueObject( CG );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := GroupAsCategoryMorphism( (1,2,3), CG );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha * Inverse( alpha ) = IdentityMorphism( u );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xbeta := GroupAsCategoryMorphism( (1,2,3,5), CG );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( beta );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27Xgamma := GroupAsCategoryMorphism( (1,3), CG );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( gamma );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XLift( alpha, gamma ) * gamma = alpha;[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xalpha * Colift( alpha, gamma ) = gamma;[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XLength( HomomorphismStructureOnObjects( u, u ) ) = Size( G );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XInterpretMorphismFromDistinguishedObjectToHomomorphismStructureAsMorphism([127X[104X
    [4X[25X>[125X [27X    u,u,[127X[104X
    [4X[25X>[125X [27X    PreCompose([127X[104X
    [4X[25X>[125X [27X        InterpretMorphismAsMorphismFromDistinguishedObjectToHomomorphismStructure( alpha ), HomomorphismStructureOnMorphisms( gamma, Inverse( gamma ) )[127X[104X
    [4X[25X>[125X [27X    )[127X[104X
    [4X[25X>[125X [27X)[127X[104X
    [4X[25X>[125X [27X=[127X[104X
    [4X[25X>[125X [27Xgamma * alpha * Inverse( gamma );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xx := (2,3)/CG;;[127X[104X
    [4X[25Xgap>[125X [27Xid := ()/CG;;[127X[104X
    [4X[25Xgap>[125X [27XIsIdenticalObj( x * x, id );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[28X#@fi[128X[104X
  [4X[32X[104X
  
  
  [1X12.12 [33X[0;0YHomomorphisms between f.p. functors based on category of rows[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XR := HomalgFieldOfRationalsInSingular() * "x,y,z";;[127X[104X
    [4X[25Xgap>[125X [27XRows_R := CategoryOfRows( R );;[127X[104X
    [4X[25Xgap>[125X [27XR1 := CategoryOfRowsObject( 1, Rows_R );;[127X[104X
    [4X[25Xgap>[125X [27XR3 := CategoryOfRowsObject( 3, Rows_R );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := CategoryOfRowsMorphism( R3, HomalgMatrix( "[x,y,z]", 3, 1, R ), R1 );;[127X[104X
    [4X[25Xgap>[125X [27XM := FreydCategoryObject( alpha );;[127X[104X
    [4X[25Xgap>[125X [27Xc0 := CovariantExtAsFreydCategoryObject( M, 0 );;[127X[104X
    [4X[25Xgap>[125X [27Xc1 := CovariantExtAsFreydCategoryObject( M, 1 );;[127X[104X
    [4X[25Xgap>[125X [27Xc2 := CovariantExtAsFreydCategoryObject( M, 2 );;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForObjects( HomomorphismStructureOnObjects( c0, c2 ) ); # = Ext^2( M, M )[127X[104X
    [4X[28Xfalse[128X[104X
  [4X[32X[104X
  
  
  [1X12.13 [33X[0;0YHomomorphisms between f.p. functors based on category of columns[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XR := HomalgFieldOfRationalsInSingular() * "x,y,z";;[127X[104X
    [4X[25Xgap>[125X [27XCols_R := CategoryOfColumns( R );;[127X[104X
    [4X[25Xgap>[125X [27XR1 := CategoryOfColumnsObject( 1, Cols_R );;[127X[104X
    [4X[25Xgap>[125X [27XR3 := CategoryOfColumnsObject( 3, Cols_R );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := CategoryOfColumnsMorphism( R3, HomalgMatrix( "[x,y,z]", 1, 3, R ), R1 );;[127X[104X
    [4X[25Xgap>[125X [27XM := FreydCategoryObject( alpha );;[127X[104X
    [4X[25Xgap>[125X [27Xc0 := CovariantExtAsFreydCategoryObject( M, 0 );;[127X[104X
    [4X[25Xgap>[125X [27Xc1 := CovariantExtAsFreydCategoryObject( M, 1 );;[127X[104X
    [4X[25Xgap>[125X [27Xc2 := CovariantExtAsFreydCategoryObject( M, 2 );;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForObjects( HomomorphismStructureOnObjects( c0, c2 ) ); # = Ext^2( M, M )[127X[104X
    [4X[28Xfalse[128X[104X
  [4X[32X[104X
  
  
  [1X12.14 [33X[0;0YHomomorphism structure[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XLoadPackage( "FreydCategoriesForCAP", false );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XLoadPackage( "RingsForHomalg", false );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XEEE := KoszulDualRing( HomalgFieldOfRationalsInSingular( ) * "x,y" );;[127X[104X
    [4X[25Xgap>[125X [27XEoid := RingAsCategory( EEE );;[127X[104X
    [4X[25Xgap>[125X [27Xa := RingAsCategoryMorphism( Eoid, 1/2 );;[127X[104X
    [4X[25Xgap>[125X [27Xb := RingAsCategoryMorphism( Eoid, -2/3 );;[127X[104X
    [4X[25Xgap>[125X [27Xu := RingAsCategoryUniqueObject( Eoid );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( a,[127X[104X
    [4X[25X>[125X [27X    InterpretMorphismFromDistinguishedObjectToHomomorphismStructureAsMorphism([127X[104X
    [4X[25X>[125X [27X        u,u,[127X[104X
    [4X[25X>[125X [27X        InterpretMorphismAsMorphismFromDistinguishedObjectToHomomorphismStructure([127X[104X
    [4X[25X>[125X [27X            a[127X[104X
    [4X[25X>[125X [27X        )[127X[104X
    [4X[25X>[125X [27X    )[127X[104X
    [4X[25X>[125X [27X);[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xa = HomStructure( u, u, HomStructure( a ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsEqualForObjects( HomStructure( Eoid ), DistinguishedObjectOfHomomorphismStructure( Eoid ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xc := RingAsCategoryMorphism( Eoid, 3 );;[127X[104X
    [4X[25Xgap>[125X [27Xd := RingAsCategoryMorphism( Eoid, 0 );;[127X[104X
    [4X[25Xgap>[125X [27Xleft_coeffs := [ [ a, b ], [ c, d ] ];;[127X[104X
    [4X[25Xgap>[125X [27Xright_coeffs := [ [ PreCompose( a, b ), PreCompose( b, c ) ], [ c, PreCompose( a, a ) ] ];;[127X[104X
    [4X[25Xgap>[125X [27Xright_side := [ a, b ];;[127X[104X
    [4X[25Xgap>[125X [27XMereExistenceOfSolutionOfLinearSystemInAbCategory( left_coeffs, right_coeffs, right_side );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xsolution := [127X[104X
    [4X[25X>[125X [27X    SolveLinearSystemInAbCategory([127X[104X
    [4X[25X>[125X [27X    left_coeffs,[127X[104X
    [4X[25X>[125X [27X    right_coeffs,[127X[104X
    [4X[25X>[125X [27X    right_side[127X[104X
    [4X[25X>[125X [27X);;[127X[104X
    [4X[25Xgap>[125X [27XForAll( [ 1, 2 ], i ->[127X[104X
    [4X[25X>[125X [27X    IsCongruentForMorphisms([127X[104X
    [4X[25X>[125X [27X        Sum( List( [ 1, 2 ], j -> PreCompose( [ left_coeffs[i][j], solution[j], right_coeffs[i][j] ] ) ) ),[127X[104X
    [4X[25X>[125X [27X        right_side[i][127X[104X
    [4X[25X>[125X [27X    )[127X[104X
    [4X[25X>[125X [27X);[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsLiftable( c, d );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XLiftOrFail( c, d );[127X[104X
    [4X[28Xfail[128X[104X
    [4X[25Xgap>[125X [27XIsLiftable( d, c );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XLiftOrFail( d, c );[127X[104X
    [4X[28X<0>[128X[104X
    [4X[25Xgap>[125X [27XLift( d, c );[127X[104X
    [4X[28X<0>[128X[104X
    [4X[25Xgap>[125X [27XIsColiftable( c, d );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XColiftOrFail( c, d );[127X[104X
    [4X[28X<0>[128X[104X
    [4X[25Xgap>[125X [27XColift( c, d );[127X[104X
    [4X[28X<0>[128X[104X
    [4X[25Xgap>[125X [27XIsColiftable( d, c );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XColiftOrFail( d, c );[127X[104X
    [4X[28Xfail[128X[104X
  [4X[32X[104X
  
  
  [1X12.15 [33X[0;0YLinear closure of categories[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[28X#@if IsPackageMarkedForLoading( "FinSetsForCAP", ">= 2023.07-03" )[128X[104X
    [4X[25Xgap>[125X [27XG := SymmetricGroup( 3 );;[127X[104X
    [4X[25Xgap>[125X [27XCG := GroupAsCategory( G );;[127X[104X
    [4X[25Xgap>[125X [27Xcompare_func := function( g, h ) return UnderlyingGroupElement( g ) < UnderlyingGroupElement( h ); end;;[127X[104X
    [4X[25Xgap>[125X [27XZZZ := HomalgRingOfIntegers();;[127X[104X
    [4X[25Xgap>[125X [27XZCG := LinearClosure( ZZZ, CG, compare_func );;[127X[104X
    [4X[25Xgap>[125X [27Xu := GroupAsCategoryUniqueObject( CG );;[127X[104X
    [4X[25Xgap>[125X [27Xg := GroupAsCategoryMorphism( (1,2,3), CG );;[127X[104X
    [4X[25Xgap>[125X [27Xh := GroupAsCategoryMorphism( (1,2), CG );;[127X[104X
    [4X[25Xgap>[125X [27Xv := LinearClosureObject( ZCG, u );;[127X[104X
    [4X[25Xgap>[125X [27Xelem1 := LinearClosureMorphism( v, [ 1, 2, 3, 4, 5, 6 ], [ g, h, g, h, g, h ], v );;[127X[104X
    [4X[25Xgap>[125X [27Xelem2 := LinearClosureMorphism( v, [ 1, 2, 3, 4, 5, 6 ], [ h, g, h, g, h, g ], v );;[127X[104X
    [4X[25Xgap>[125X [27X# for i in [ 1 .. 10^6 ] do LinearClosureMorphism( v, [ 1, 2, 3, 4, 5, 6 ], [ g, h, g, h, g, h ], v ); od;[127X[104X
    [4X[25Xgap>[125X [27Xelem := LinearClosureMorphism( v, [ 0, 0, 0, 0, 0, 0 ], [ g, h, g, h, g, h ], v );;[127X[104X
    [4X[25Xgap>[125X [27Xa := (1,2)/CG/ZCG;;[127X[104X
    [4X[25Xgap>[125X [27Xb := (2,3)/CG/ZCG;;[127X[104X
    [4X[25Xgap>[125X [27XIsIsomorphism( a + b );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XLift( a + b, a ) * a = a + b;[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsLiftable( a + b, -2*a ); ## over Q this is liftable[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[28X#@fi[128X[104X
  [4X[32X[104X
  
  
  [1X12.16 [33X[0;0YMatrices over ZP K[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[28X#@if IsPackageMarkedForLoading( "FinSetsForCAP", ">= 2023.07-03" )[128X[104X
    [4X[25Xgap>[125X [27X#Incidence matrix of our proset[127X[104X
    [4X[25X>[125X [27XK := [ [1, 1, 1], [0, 1, 1], [0, 1, 1] ];;[127X[104X
    [4X[25Xgap>[125X [27X#Construction of a tower of categories[127X[104X
    [4X[25X>[125X [27XCP_K := ProSetAsCategory( K );;[127X[104X
    [4X[25Xgap>[125X [27XZZZ := HomalgRingOfIntegers( );;[127X[104X
    [4X[25Xgap>[125X [27XZP_K := LinearClosure( ZZZ, CP_K, ReturnTrue );;[127X[104X
    [4X[25Xgap>[125X [27XRowsP_K := AdditiveClosure( ZP_K );;[127X[104X
    [4X[25Xgap>[125X [27Xa := ProSetAsCategoryObject( 1, CP_K );;[127X[104X
    [4X[25Xgap>[125X [27Xb := ProSetAsCategoryObject( 2, CP_K );;[127X[104X
    [4X[25Xgap>[125X [27Xc := ProSetAsCategoryObject( 3, CP_K );;[127X[104X
    [4X[25Xgap>[125X [27X#Three random objects in the additive closure[127X[104X
    [4X[25X>[125X [27X#Such that there exists morphisms from A->B and B->C:[127X[104X
    [4X[25X>[125X [27Xrand_coef := List( [ 1 .. 5 ], i -> Random( [ 2 .. 20 ] ) );;[127X[104X
    [4X[25Xgap>[125X [27XA1 := List( [ 1 .. rand_coef[ 1 ] ], i -> a );;[127X[104X
    [4X[25Xgap>[125X [27XA2 := List( [ 1 .. rand_coef[ 2 ] ], i -> b );;[127X[104X
    [4X[25Xgap>[125X [27XA := Concatenation( A1, A2 );;[127X[104X
    [4X[25Xgap>[125X [27XB1 := List( [ 1 .. rand_coef[ 3 ] ], i -> b );;[127X[104X
    [4X[25Xgap>[125X [27XB2 := List( [ 1 .. rand_coef[ 4 ] ], i -> c );;[127X[104X
    [4X[25Xgap>[125X [27XB :=  Concatenation( B1, B2 );;[127X[104X
    [4X[25Xgap>[125X [27XC := List([ 1 .. rand_coef[ 5 ] ], i -> c);;[127X[104X
    [4X[25Xgap>[125X [27X#A random lifting problem over ZP_K[127X[104X
    [4X[25X>[125X [27XMA_B :=  List( [ 1 .. rand_coef[ 1 ] + rand_coef[ 2 ] ], i ->[127X[104X
    [4X[25X>[125X [27X            List( [ 1 .. rand_coef[ 3 ] + rand_coef[ 4 ] ], j ->[127X[104X
    [4X[25X>[125X [27X                LinearClosureMorphism( LinearClosureObject( A[i], ZP_K ), [Random( [ -20 .. 20 ] )], [ProSetAsCategoryMorphism( A[i], B[j] )], LinearClosureObject( B[j], ZP_K ) )[127X[104X
    [4X[25X>[125X [27X                )[127X[104X
    [4X[25X>[125X [27X              );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := MA_B/RowsP_K;;[127X[104X
    [4X[25Xgap>[125X [27XMB_C :=  List( [ 1 .. rand_coef[ 3 ] + rand_coef[ 4 ] ], i ->[127X[104X
    [4X[25X>[125X [27X            List( [ 1 .. rand_coef[ 5 ] ], j ->[127X[104X
    [4X[25X>[125X [27X                LinearClosureMorphism( LinearClosureObject( B[i], ZP_K ), [Random( [ -20 .. 20 ] )], [ProSetAsCategoryMorphism( B[i], C[j] )], LinearClosureObject( C[j], ZP_K ) )[127X[104X
    [4X[25X>[125X [27X                )[127X[104X
    [4X[25X>[125X [27X             );;[127X[104X
    [4X[25Xgap>[125X [27Xbeta := MB_C/RowsP_K;;[127X[104X
    [4X[25Xgap>[125X [27Xgamma := PreCompose( alpha, beta );;[127X[104X
    [4X[25Xgap>[125X [27Xlift := Lift( gamma, beta );;[127X[104X
    [4X[25Xgap>[125X [27XPreCompose(lift, beta) = gamma;[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[28X#@fi[128X[104X
  [4X[32X[104X
  
  
  [1X12.17 [33X[0;0YMatrices over ZG[133X[101X
  
  [33X[0;0YConstruction of a tower of categories[133X
  
  [4X[32X  Example  [32X[104X
    [4X[28X#@if IsPackageMarkedForLoading( "FinSetsForCAP", ">= 2023.07-03" )[128X[104X
    [4X[25Xgap>[125X [27XG := SymmetricGroup( 3 );;[127X[104X
    [4X[25Xgap>[125X [27XCG := GroupAsCategory( G );;[127X[104X
    [4X[25Xgap>[125X [27XZZZ := HomalgRingOfIntegers( );;[127X[104X
    [4X[25Xgap>[125X [27XZCG := LinearClosure( ZZZ, CG );;[127X[104X
    [4X[25Xgap>[125X [27XRowsG := AdditiveClosure( ZCG );;[127X[104X
    [4X[28X#@fi[128X[104X
  [4X[32X[104X
  
  [33X[0;0YConstruction of elements[133X
  
  [4X[32X  Example  [32X[104X
    [4X[28X#@if IsPackageMarkedForLoading( "FinSetsForCAP", ">= 2023.07-03" )[128X[104X
    [4X[25Xgap>[125X [27Xa := (1,2)/CG/ZCG;;[127X[104X
    [4X[25Xgap>[125X [27Xb := (2,3)/CG/ZCG;;[127X[104X
    [4X[25Xgap>[125X [27Xe := ()/CG/ZCG;;[127X[104X
    [4X[25Xgap>[125X [27Xomega := [ [ a - e ], [ b - e ] ]/RowsG;;[127X[104X
    [4X[25Xgap>[125X [27Xu := GroupAsCategoryUniqueObject( CG );;[127X[104X
    [4X[25Xgap>[125X [27Xv := LinearClosureObject( ZCG, u );;[127X[104X
    [4X[25Xgap>[125X [27Xu := AsAdditiveClosureObject( v );;[127X[104X
    [4X[25Xgap>[125X [27XHomStructure( u, omega );;[127X[104X
    [4X[28X#@fi[128X[104X
  [4X[32X[104X
  
  [33X[0;0YA random lifting problem over ZG[133X
  
  [4X[32X  Example  [32X[104X
    [4X[28X#@if IsPackageMarkedForLoading( "FinSetsForCAP", ">= 2023.07-03" )[128X[104X
    [4X[25Xgap>[125X [27Xelem := Elements( G );;[127X[104X
    [4X[25Xgap>[125X [27Xelem := List( elem, x -> x/CG/ZCG );;[127X[104X
    [4X[25Xgap>[125X [27Xrand_elem := function() local coeffs; coeffs := List( [ 1 .. 6 ], i -> Random( [ -20 .. 20 ] ) ); if ForAll( coeffs, IsZero ) then return ZeroMorphism( v, v ); fi; return Sum( List( [ 1 .. 6 ], i -> Random( [ -20 .. 20 ] ) * One( ZZZ ) * elem[i] ) ); end;;[127X[104X
    [4X[25Xgap>[125X [27Xmat10_11 := List( [ 1 .. 10 ], i ->[127X[104X
    [4X[25X>[125X [27X        List( [ 1 .. 11 ], j ->[127X[104X
    [4X[25X>[125X [27X            rand_elem()[127X[104X
    [4X[25X>[125X [27X        )[127X[104X
    [4X[25X>[125X [27X    );;[127X[104X
    [4X[25Xgap>[125X [27Xmat11_12 := List( [ 1 .. 11 ], i ->[127X[104X
    [4X[25X>[125X [27X        List( [ 1 .. 12 ], j ->[127X[104X
    [4X[25X>[125X [27X            rand_elem()[127X[104X
    [4X[25X>[125X [27X        )[127X[104X
    [4X[25X>[125X [27X    );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := mat10_11/RowsG;;[127X[104X
    [4X[25Xgap>[125X [27Xbeta := mat11_12/RowsG;;[127X[104X
    [4X[25Xgap>[125X [27Xgamma := PreCompose( alpha, beta );;[127X[104X
    [4X[25Xgap>[125X [27Xlift := Lift( gamma, beta );;[127X[104X
    [4X[25Xgap>[125X [27XPreCompose( lift, beta ) = gamma;[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[28X#@fi[128X[104X
  [4X[32X[104X
  
  
  [1X12.18 [33X[0;0YOpposite( CategoryOfRow ) as CategoryOfColumns[133X[101X
  
  [33X[0;0YAssume  that  we  have the constructors [10XCategoryOfRows[110X and [10XCategoryOfColumns[110X
  but   no   constructor   [10XOpposite[110X.   Then   we  can  still  model  [10XOpposite(
  CategoryOfRows )[110X as [10XCategoryOfColumns[110X using [10XReinterpretationOfCategory[110X. This
  can be achieved up to minor modifications by swapping [10Xobject_constructor[110X and
  [10Xmodeling_tower_object_constructor[110X         and         so        on        in
  [10XCategoryOfColums_as_Opposite_CategoryOfRows[110X.    With   this,   objects   and
  morphisms indeed have the attribute [10XOpposite[110X as desired. Getting [10XObjectDatum[110X
  and [10XMorphismDatum[110X to return this attribute would also be possible, but would
  require   more   effort   than   simply   swapping   [10Xobject_constructor[110X  and
  [10Xmodeling_tower_object_constructor[110X and so.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XLoadPackage( "FreydCategoriesForCAP", false );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XQQ := HomalgFieldOfRationals( );;[127X[104X
    [4X[25Xgap>[125X [27Xcols := CategoryOfColumns( QQ );;[127X[104X
    [4X[25Xgap>[125X [27Xrows := CategoryOfRows( QQ );;[127X[104X
    [4X[25Xgap>[125X [27Xobject_constructor :=[127X[104X
    [4X[25X>[125X [27X    { cat, rank } -> CreateCapCategoryObjectWithAttributes( cat,[127X[104X
    [4X[25X>[125X [27X                                                            Opposite, CategoryOfRowsObject( Opposite( cat ), rank )[127X[104X
    [4X[25X>[125X [27X    );;[127X[104X
    [4X[25Xgap>[125X [27Xmodeling_tower_object_constructor :=[127X[104X
    [4X[25X>[125X [27X    { cat, rank } -> CreateCapCategoryObjectWithAttributes( ModelingCategory( cat ),[127X[104X
    [4X[25X>[125X [27X                                                            RankOfObject, rank[127X[104X
    [4X[25X>[125X [27X    );;[127X[104X
    [4X[25Xgap>[125X [27Xobject_datum := { cat, obj } -> RankOfObject( Opposite( obj ) );;[127X[104X
    [4X[25Xgap>[125X [27Xmodeling_tower_object_datum := { cat, obj } -> RankOfObject( obj );;[127X[104X
    [4X[25Xgap>[125X [27Xmorphism_constructor :=[127X[104X
    [4X[25X>[125X [27X    { cat, source, underlying_matrix, range } ->[127X[104X
    [4X[25X>[125X [27X        CreateCapCategoryMorphismWithAttributes([127X[104X
    [4X[25X>[125X [27X            cat,[127X[104X
    [4X[25X>[125X [27X            source, range,[127X[104X
    [4X[25X>[125X [27X            Opposite, CategoryOfRowsMorphism([127X[104X
    [4X[25X>[125X [27X                Opposite( cat ),[127X[104X
    [4X[25X>[125X [27X                Opposite( range ),[127X[104X
    [4X[25X>[125X [27X                underlying_matrix,[127X[104X
    [4X[25X>[125X [27X                Opposite( source )[127X[104X
    [4X[25X>[125X [27X            )[127X[104X
    [4X[25X>[125X [27X        );;[127X[104X
    [4X[25Xgap>[125X [27Xmodeling_tower_morphism_constructor :=[127X[104X
    [4X[25X>[125X [27X    { cat, source, underlying_matrix, range } ->[127X[104X
    [4X[25X>[125X [27X        CreateCapCategoryMorphismWithAttributes([127X[104X
    [4X[25X>[125X [27X            ModelingCategory( cat ),[127X[104X
    [4X[25X>[125X [27X            source, range,[127X[104X
    [4X[25X>[125X [27X            UnderlyingMatrix, underlying_matrix[127X[104X
    [4X[25X>[125X [27X        );;[127X[104X
    [4X[25Xgap>[125X [27Xmorphism_datum := { cat, mor } -> UnderlyingMatrix( Opposite( mor ) );;[127X[104X
    [4X[25Xgap>[125X [27Xmodeling_tower_morphism_datum := { cat, mor } -> UnderlyingMatrix( mor );;[127X[104X
    [4X[25Xgap>[125X [27Xop := ReinterpretationOfCategory( cols, rec([127X[104X
    [4X[25X>[125X [27X    name := Concatenation( "Opposite( ", Name( rows )," )" ),[127X[104X
    [4X[25X>[125X [27X    category_filter := WasCreatedAsOppositeCategory,[127X[104X
    [4X[25X>[125X [27X    category_object_filter := IsCapCategoryOppositeObject,[127X[104X
    [4X[25X>[125X [27X    category_morphism_filter := IsCapCategoryOppositeMorphism,[127X[104X
    [4X[25X>[125X [27X    object_constructor := object_constructor,[127X[104X
    [4X[25X>[125X [27X    object_datum := object_datum,[127X[104X
    [4X[25X>[125X [27X    morphism_constructor := morphism_constructor,[127X[104X
    [4X[25X>[125X [27X    morphism_datum := morphism_datum,[127X[104X
    [4X[25X>[125X [27X    modeling_tower_object_constructor := modeling_tower_object_constructor,[127X[104X
    [4X[25X>[125X [27X    modeling_tower_object_datum := modeling_tower_object_datum,[127X[104X
    [4X[25X>[125X [27X    modeling_tower_morphism_constructor := modeling_tower_morphism_constructor,[127X[104X
    [4X[25X>[125X [27X    modeling_tower_morphism_datum := modeling_tower_morphism_datum,[127X[104X
    [4X[25X>[125X [27X    only_primitive_operations := true,[127X[104X
    [4X[25X>[125X [27X) );[127X[104X
    [4X[28XOpposite( Rows( Q ) )[128X[104X
    [4X[25Xgap>[125X [27XSetOpposite( op, rows );[127X[104X
    [4X[25Xgap>[125X [27Xsource := ObjectConstructor( op, 1 );[127X[104X
    [4X[28X<An object in Opposite( Rows( Q ) )>[128X[104X
    [4X[25Xgap>[125X [27Xrange := ObjectConstructor( op, 2 );[127X[104X
    [4X[28X<An object in Opposite( Rows( Q ) )>[128X[104X
    [4X[25Xgap>[125X [27Xzero := ZeroMorphism( source, range );[127X[104X
    [4X[28X<A zero morphism in Opposite( Rows( Q ) )>[128X[104X
    [4X[25Xgap>[125X [27Xsum := AdditionForMorphisms( zero, zero );[127X[104X
    [4X[28X<A morphism in Opposite( Rows( Q ) )>[128X[104X
    [4X[25Xgap>[125X [27X# notice that source and range are indeed swapped compared to the above[127X[104X
    [4X[25X>[125X [27XDisplay( Source( Opposite( sum ) ) );[127X[104X
    [4X[28XA row module over Q of rank 2[128X[104X
    [4X[25Xgap>[125X [27XDisplay( Range( Opposite( sum ) ) );[127X[104X
    [4X[28XA row module over Q of rank 1[128X[104X
  [4X[32X[104X
  
  
  [1X12.19  [33X[0;0YTesting  if  an  object  is  projective,  injective,  bijective,  and[101X
  [1Xcomputing projective/injective dimensions[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XR := HomalgRingOfIntegers();;[127X[104X
    [4X[25Xgap>[125X [27Xrows := CategoryOfRows( R );;[127X[104X
    [4X[25Xgap>[125X [27Xadelman := AdelmanCategory( rows );;[127X[104X
    [4X[25Xgap>[125X [27Xrowobj := CategoryOfRowsObject( 1, rows );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := ProjectionInFactorOfDirectSum( [ rowobj, rowobj ], 1 );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := AsAdelmanCategoryMorphism( alpha );;[127X[104X
    [4X[25Xgap>[125X [27Xobj := CokernelObject( alpha );;[127X[104X
    [4X[25Xgap>[125X [27XIsBijectiveObject( obj );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xbeta := 2 * IdentityMorphism( rowobj );;[127X[104X
    [4X[25Xgap>[125X [27Xbeta := AsAdelmanCategoryMorphism( beta );;[127X[104X
    [4X[25Xgap>[125X [27Xobj1 := CokernelObject( beta );;[127X[104X
    [4X[25Xgap>[125X [27Xobj2 := KernelObject( beta );;[127X[104X
    [4X[25Xgap>[125X [27Xobj3 := ImageObject( beta );;[127X[104X
    [4X[25Xgap>[125X [27Xobj4 := HomologyObject( beta, beta );;[127X[104X
    [4X[25Xgap>[125X [27XIsBijectiveObject( obj1 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsInjective( obj1 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XProjectiveDimension( obj1 );[127X[104X
    [4X[28X2[128X[104X
    [4X[25Xgap>[125X [27XIsBijectiveObject( obj2 );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsProjective( obj2 );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XInjectiveDimension( obj2 );[127X[104X
    [4X[28X2[128X[104X
    [4X[25Xgap>[125X [27XProjectiveDimension( obj3 );[127X[104X
    [4X[28X1[128X[104X
    [4X[25Xgap>[125X [27XInjectiveDimension( obj3 );[127X[104X
    [4X[28X1[128X[104X
    [4X[25Xgap>[125X [27XProjectiveDimension( obj4 );[127X[104X
    [4X[28X2[128X[104X
    [4X[25Xgap>[125X [27XInjectiveDimension( obj4 );[127X[104X
    [4X[28X2[128X[104X
  [4X[32X[104X
  
  
  [1X12.20 [33X[0;0YProsets[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[28X#@if IsPackageMarkedForLoading( "FinSetsForCAP", ">= 2023.07-03" )[128X[104X
    [4X[25Xgap>[125X [27XK := [ [1, 1, 1], [0, 1, 1], [0, 1, 1] ];;[127X[104X
    [4X[25Xgap>[125X [27XL := [ [1, 1, 0], [0, 1, 1], [0, 0, 1] ];;[127X[104X
    [4X[25Xgap>[125X [27XP_K := ProSetAsCategory(K);;[127X[104X
    [4X[25Xgap>[125X [27X#ProSetAsCategory(L);[127X[104X
    [4X[25Xgap>[125X [27Xa := 1/P_K;;[127X[104X
    [4X[25Xgap>[125X [27Xb := ProSetAsCategoryObject(2, P_K);;[127X[104X
    [4X[25Xgap>[125X [27Xc := ProSetAsCategoryObject(3, P_K);;[127X[104X
    [4X[25Xgap>[125X [27Xd := ProSetAsCategoryObject(4, P_K);;[127X[104X
    [4X[25Xgap>[125X [27Xdelta := ProSetAsCategoryMorphism(b, a);;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined(a);[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsWellDefined(d);[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsWellDefined(delta);[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27Xalpha := ProSetAsCategoryMorphism(a, b);;[127X[104X
    [4X[25Xgap>[125X [27Xbeta := ProSetAsCategoryMorphism(b, c);;[127X[104X
    [4X[25Xgap>[125X [27Xgamma := ProSetAsCategoryMorphism(a, c);;[127X[104X
    [4X[25Xgap>[125X [27Xgamma = PreCompose(alpha, beta);[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xid_a := IdentityMorphism(a);;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined(Inverse(alpha));[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27Xbeta*Inverse(beta) = IdentityMorphism(b);[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xalpha = Lift(gamma, beta);[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsLiftable(beta, gamma);[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XColift(alpha, gamma) = beta;[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xalpha = HomStructure(a, b, HomStructure(alpha));[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[28X#@fi[128X[104X
  [4X[32X[104X
  
  
  [1X12.21 [33X[0;0YTests[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XLoadPackage( "FreydCategoriesForCAP", false );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XR := HomalgRingOfIntegers( ) ;;[127X[104X
    [4X[25Xgap>[125X [27Xcat := CategoryOfColumns( R );;[127X[104X
    [4X[25Xgap>[125X [27XA := RandomObjectByInteger( cat, 2 );;[127X[104X
    [4X[25Xgap>[125X [27XB := RandomObjectByInteger( cat, 2 );;[127X[104X
    [4X[25Xgap>[125X [27Xmor1 := RandomMorphismByInteger( cat, 2 );;[127X[104X
    [4X[25Xgap>[125X [27Xmor2 := RandomMorphismWithFixedSourceByInteger( cat, CategoryOfColumnsObject( cat, 3 ), 2 );;[127X[104X
    [4X[25Xgap>[125X [27Xmor3 := RandomMorphismWithFixedRangeByInteger( cat, CategoryOfColumnsObject( cat, 3 ), 2 );;[127X[104X
    [4X[25Xgap>[125X [27Xmor4 := RandomMorphismWithFixedSourceAndRangeByInteger( cat, CategoryOfColumnsObject( cat, 3 ), CategoryOfColumnsObject( cat, 4 ), 2 );;[127X[104X
    [4X[25Xgap>[125X [27XRankOfObject( Source( mor2 ) ) = 3;[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XRankOfObject( Range( mor3 ) ) = 3;[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XRankOfObject( Source( mor4 ) ) = 3;[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XRankOfObject( Range( mor4 ) ) = 4;[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XLoadPackage( "FreydCategoriesForCAP", false );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XQQ := HomalgFieldOfRationalsInSingular( );;[127X[104X
    [4X[25Xgap>[125X [27XQQxy := QQ * "x,y";;[127X[104X
    [4X[25Xgap>[125X [27XEQQxy := KoszulDualRing( QQxy );;[127X[104X
    [4X[25Xgap>[125X [27XR := KoszulDualRing( HomalgRingOfIntegersInSingular( ) * "x,y" );;[127X[104X
    [4X[25Xgap>[125X [27XCAP_INTERNAL_GENERATE_DOCUMENTATION_FOR_CATEGORY_INSTANCES([127X[104X
    [4X[25X>[125X [27X    [[127X[104X
    [4X[25X>[125X [27X        [ CategoryOfRows( R ), "CategoryOfRows of an arbitrary ring" ],[127X[104X
    [4X[25X>[125X [27X        [ CategoryOfRows( EQQxy ), "CategoryOfRows of an exterior algebra over a field" ],[127X[104X
    [4X[25X>[125X [27X        [ CategoryOfRows( QQxy ), "CategoryOfRows of a commutative ring" ],[127X[104X
    [4X[25X>[125X [27X        [ CategoryOfRows( QQ ), "CategoryOfRows of a field" ],[127X[104X
    [4X[25X>[125X [27X    ],[127X[104X
    [4X[25X>[125X [27X    "FreydCategoriesForCAP",[127X[104X
    [4X[25X>[125X [27X    "CategoryOfRows.autogen.gd",[127X[104X
    [4X[25X>[125X [27X    "Category of rows",[127X[104X
    [4X[25X>[125X [27X    "Supported CAP operations"[127X[104X
    [4X[25X>[125X [27X);[127X[104X
  [4X[32X[104X
  
  
  [1X12.22 [33X[0;0YCategory of relations[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XF := HomalgRingOfIntegers( 3 );;[127X[104X
    [4X[25Xgap>[125X [27Xvec := CategoryOfRows( F );;[127X[104X
    [4X[25Xgap>[125X [27Xrel := RelCategory( vec );;[127X[104X
    [4X[25Xgap>[125X [27XA := 1/vec/rel;;[127X[104X
    [4X[25Xgap>[125X [27Xid := IdentityMorphism( A );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( id );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xalpha := HomalgMatrix( "[ 1, 2 ]", 2, 1, F )/vec;;[127X[104X
    [4X[25Xgap>[125X [27Xalpha_rel := alpha/rel;;[127X[104X
    [4X[25Xgap>[125X [27Xalpha_rel_inv := rel/alpha;;[127X[104X
    [4X[25Xgap>[125X [27Xbeta := PreCompose( alpha_rel_inv, alpha_rel );;[127X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( beta, id );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsEqualForMorphisms( beta, id );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XR := HomalgFieldOfRationalsInSingular() * "t";;[127X[104X
    [4X[25Xgap>[125X [27Xt := IndeterminatesOfPolynomialRing( R )[1];;[127X[104X
    [4X[25Xgap>[125X [27Xcocycle := function( a, b, c ) local e; e := CoastrictionToImage( UniversalMorphismIntoDirectSum( [ ReversedArrow( c ), Arrow( c ) ] ) ); return t^RankOfObject( KernelObject( e ) ); end;;[127X[104X
    [4X[28X#@if IsPackageMarkedForLoading( "FinSetsForCAP", ">= 2023.07-03" )[128X[104X
    [4X[25Xgap>[125X [27XT := TwistedLinearClosure( R, rel, cocycle );;[127X[104X
    [4X[25Xgap>[125X [27Xgamma := beta/T;;[127X[104X
    [4X[25Xgap>[125X [27Xdelta := ZeroMorphism( 1/vec, 1/vec )/rel/T;;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( 3*gamma - 3*gamma );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( delta, gamma );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27Xbeta := PreCompose( alpha_rel_inv/T, alpha_rel/T );;[127X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( beta - t * IdentityMorphism( Range( alpha_rel/T ) ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( ( gamma * delta ) * gamma - gamma * ( delta * gamma ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[28X#@fi[128X[104X
  [4X[32X[104X
  
  
  [1X12.23 [33X[0;0YRings as Ab-categories[133X[101X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XCR := RingAsCategory( Integers );;[127X[104X
    [4X[25Xgap>[125X [27Xu := RingAsCategoryUniqueObject( CR );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := 2 / CR;[127X[104X
    [4X[28X<2>[128X[104X
    [4X[25Xgap>[125X [27XIsOne( alpha );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XMorphismDatum( alpha );[127X[104X
    [4X[28X2[128X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( alpha );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27Xalpha * alpha;[127X[104X
    [4X[28X<4>[128X[104X
    [4X[25Xgap>[125X [27X-alpha;[127X[104X
    [4X[28X<-2>[128X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( alpha + AdditiveInverse( alpha ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xbeta := RingAsCategoryMorphism( 1/2, CR );;[127X[104X
    [4X[25Xgap>[125X [27XIsWellDefined( beta );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27Xgamma := IdentityMorphism( u );[127X[104X
    [4X[28X<1>[128X[104X
    [4X[25Xgap>[125X [27XIsOne( gamma );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xdelta := ZeroMorphism( u, u );[127X[104X
    [4X[28X<0>[128X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( delta );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27X2 * alpha;[127X[104X
    [4X[28X<4>[128X[104X
    [4X[25Xgap>[125X [27XLift( alpha * alpha, alpha );[127X[104X
    [4X[28X<2>[128X[104X
    [4X[25Xgap>[125X [27XColift( alpha, alpha * alpha );[127X[104X
    [4X[28X<2>[128X[104X
    [4X[25Xgap>[125X [27XBasisOfExternalHom( u, u );[127X[104X
    [4X[28X[ <1> ][128X[104X
    [4X[25Xgap>[125X [27XCoefficientsOfMorphism( alpha );[127X[104X
    [4X[28X[ 2 ][128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( alpha, LinearCombinationOfMorphisms( u, CoefficientsOfMorphism( alpha ), BasisOfExternalHom( u, u ), u ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XTensorUnit( CR );[127X[104X
    [4X[28X*[128X[104X
    [4X[25Xgap>[125X [27XTensorUnit( CR ) = u;[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XTensorProductOnObjects( u, u );[127X[104X
    [4X[28X*[128X[104X
    [4X[25Xgap>[125X [27XTensorProductOnObjects( u, u ) = u;[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XTensorProductOnMorphisms( alpha, beta );[127X[104X
    [4X[28X<1>[128X[104X
    [4X[25Xgap>[125X [27XBraiding( u, u );[127X[104X
    [4X[28X<1>[128X[104X
    [4X[25Xgap>[125X [27XDualOnObjects( u ) = u;[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XDualOnMorphisms( alpha ) = alpha;[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XEvaluationForDual( u );[127X[104X
    [4X[28X<1>[128X[104X
    [4X[25Xgap>[125X [27XCoevaluationForDual( u );[127X[104X
    [4X[28X<1>[128X[104X
    [4X[25Xgap>[125X [27XCoDualOnObjects( u ) = u;[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XCoDualOnMorphisms( beta ) = beta;[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XCoclosedEvaluationForCoDual( u );[127X[104X
    [4X[28X<1>[128X[104X
    [4X[25Xgap>[125X [27XCoclosedCoevaluationForCoDual( u );[127X[104X
    [4X[28X<1>[128X[104X
    [4X[25Xgap>[125X [27XEEE := KoszulDualRing( HomalgFieldOfRationalsInSingular( ) * "x,y" );;[127X[104X
    [4X[25Xgap>[125X [27XCE := RingAsCategory( EEE );;[127X[104X
    [4X[25Xgap>[125X [27Xu := RingAsCategoryUniqueObject( CE );;[127X[104X
    [4X[25Xgap>[125X [27Xalpha := ("2 + 3 * e0 + 4 * e1 + 5 * e0*e1" / EEE) / CE;[127X[104X
    [4X[28X<5*e0*e1+3*e0+4*e1+2>[128X[104X
    [4X[25Xgap>[125X [27XIsOne( alpha );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( alpha );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27Xalpha * alpha;[127X[104X
    [4X[28X<20*e0*e1+12*e0+16*e1+4>[128X[104X
    [4X[25Xgap>[125X [27X-alpha;[127X[104X
    [4X[28X<-5*e0*e1-3*e0-4*e1-2>[128X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( alpha + AdditiveInverse( alpha ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xgamma := IdentityMorphism( u );[127X[104X
    [4X[28X<1>[128X[104X
    [4X[25Xgap>[125X [27XIsOne( gamma );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xdelta := ZeroMorphism( u, u );[127X[104X
    [4X[28X<0>[128X[104X
    [4X[25Xgap>[125X [27XIsZeroForMorphisms( delta );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27X2 * alpha;[127X[104X
    [4X[28X<10*e0*e1+6*e0+8*e1+4>[128X[104X
    [4X[25Xgap>[125X [27XLift( alpha * alpha, alpha );[127X[104X
    [4X[28X<5*e0*e1+3*e0+4*e1+2>[128X[104X
    [4X[25Xgap>[125X [27XColift( alpha, alpha * alpha );[127X[104X
    [4X[28X<5*e0*e1+3*e0+4*e1+2>[128X[104X
    [4X[25Xgap>[125X [27Xbasis := BasisOfExternalHom( u, u );[127X[104X
    [4X[28X[ <1>, <e0>, <e1>, <e0*e1> ][128X[104X
    [4X[25Xgap>[125X [27Xcoeffs := CoefficientsOfMorphism( alpha );[127X[104X
    [4X[28X[ 2, 3, 4, 5 ][128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( alpha, LinearCombinationOfMorphisms( u, coeffs, basis, u ) );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27Xu_op := Opposite( u );[127X[104X
    [4X[28X<An object in Opposite( RingAsCategory( Q{e0,e1} ) )>[128X[104X
    [4X[25Xgap>[125X [27Xalpha_op := Opposite( alpha );[127X[104X
    [4X[28X<A morphism in Opposite( RingAsCategory( Q{e0,e1} ) )>[128X[104X
    [4X[25Xgap>[125X [27Xbasis := BasisOfExternalHom( u_op, u_op );;[127X[104X
    [4X[25Xgap>[125X [27Xcoeffs := CoefficientsOfMorphism( alpha_op );[127X[104X
    [4X[28X[ 2, 3, 4, 5 ][128X[104X
    [4X[25Xgap>[125X [27XIsCongruentForMorphisms( alpha_op, LinearCombinationOfMorphisms( u_op, coeffs, basis, u_op ) );[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
